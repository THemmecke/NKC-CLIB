68K GAS   			page 1


   1               	
   2               	.file"strtoul.c"
   3               	.text
   4               	.align2
   5               	.globlstrtoul
   7               	strtoul:
   8 0000 4E56 FFF8 	link.w %fp,#-8
   9 0004 42AE FFFC 	clr.l -4(%fp)
  10 0008 6004      	jra .L2
  11               	.L3:
  12 000a 52AE 0008 	addq.l #1,8(%fp)
  13               	.L2:
  14 000e 202E 0008 	move.l 8(%fp),%d0
  15 0012 2040      	move.l %d0,%a0
  16 0014 1010      	move.b (%a0),%d0
  17 0016 49C0      	extb.l %d0
  18 0018 1030 09B0 	move.b _ctype(%d0.l),%d0
  18      0000 0000 
  19 0020 1000      	move.b %d0,%d0
  20 0022 0280 0000 	and.l #255,%d0
  20      00FF 
  21 0028 7201      	moveq #1,%d1
  22 002a C081      	and.l %d1,%d0
  23 002c 1000      	move.b %d0,%d0
  24 002e 4A00      	tst.b %d0
  25 0030 66D8      	jne .L3
  26 0032 202E 0008 	move.l 8(%fp),%d0
  27 0036 2040      	move.l %d0,%a0
  28 0038 1010      	move.b (%a0),%d0
  29 003a 0C00 0030 	cmp.b #48,%d0
  30 003e 6600 008C 	jne .L12
  31 0042 7008      	moveq #8,%d0
  32 0044 2D40 0010 	move.l %d0,16(%fp)
  33 0048 52AE 0008 	addq.l #1,8(%fp)
  34 004c 202E 0008 	move.l 8(%fp),%d0
  35 0050 2040      	move.l %d0,%a0
  36 0052 1010      	move.b (%a0),%d0
  37 0054 0C00 0078 	cmp.b #120,%d0
  38 0058 670E      	jeq .L5
  39 005a 202E 0008 	move.l 8(%fp),%d0
  40 005e 2040      	move.l %d0,%a0
  41 0060 1010      	move.b (%a0),%d0
  42 0062 0C00 0058 	cmp.b #88,%d0
  43 0066 6668      	jne .L13
  44               	.L5:
  45 0068 7010      	moveq #16,%d0
  46 006a 2D40 0010 	move.l %d0,16(%fp)
  47 006e 52AE 0008 	addq.l #1,8(%fp)
  48 0072 605E      	jra .L6
  49               	.L10:
  50 0074 202E 0008 	move.l 8(%fp),%d0
  51 0078 2040      	move.l %d0,%a0
  52 007a 1010      	move.b (%a0),%d0
  53 007c 49C0      	extb.l %d0
  54 007e 52AE 0008 	addq.l #1,8(%fp)
  55 0082 2F00      	move.l %d0,-(%sp)
  56 0084 4EB9 0000 	jsr toupper
68K GAS   			page 2


  56      0000 
  57 008a 588F      	addq.l #4,%sp
  58 008c 72D0      	moveq #-48,%d1
  59 008e D081      	add.l %d1,%d0
  60 0090 2D40 FFF8 	move.l %d0,-8(%fp)
  61 0094 7009      	moveq #9,%d0
  62 0096 B0AE FFF8 	cmp.l -8(%fp),%d0
  63 009a 6404      	jcc .L7
  64 009c 5FAE FFF8 	subq.l #7,-8(%fp)
  65               	.L7:
  66 00a0 202E 0010 	move.l 16(%fp),%d0
  67 00a4 B0AE FFF8 	cmp.l -8(%fp),%d0
  68 00a8 6206      	jhi .L8
  69 00aa 53AE 0008 	subq.l #1,8(%fp)
  70 00ae 6044      	jra .L9
  71               	.L8:
  72 00b0 222E FFFC 	move.l -4(%fp),%d1
  73 00b4 4C2E 1800 	muls.l 16(%fp),%d1
  73      0010 
  74 00ba 2D41 FFFC 	move.l %d1,-4(%fp)
  75 00be 202E FFFC 	move.l -4(%fp),%d0
  76 00c2 D0AE FFF8 	add.l -8(%fp),%d0
  77 00c6 2D40 FFFC 	move.l %d0,-4(%fp)
  78 00ca 6006      	jra .L6
  79               	.L12:
  80 00cc 4E71      	nop
  81 00ce 6002      	jra .L6
  82               	.L13:
  83 00d0 4E71      	nop
  84               	.L6:
  85 00d2 202E 0008 	move.l 8(%fp),%d0
  86 00d6 2040      	move.l %d0,%a0
  87 00d8 1010      	move.b (%a0),%d0
  88 00da 49C0      	extb.l %d0
  89 00dc 1030 09B0 	move.b _ctype(%d0.l),%d0
  89      0000 0000 
  90 00e4 1000      	move.b %d0,%d0
  91 00e6 0280 0000 	and.l #255,%d0
  91      00FF 
  92 00ec 720E      	moveq #14,%d1
  93 00ee C081      	and.l %d1,%d0
  94 00f0 4A80      	tst.l %d0
  95 00f2 6680      	jne .L10
  96               	.L9:
  97 00f4 4AAE 000C 	tst.l 12(%fp)
  98 00f8 670A      	jeq .L11
  99 00fa 202E 000C 	move.l 12(%fp),%d0
 100 00fe 2040      	move.l %d0,%a0
 101 0100 20AE 0008 	move.l 8(%fp),(%a0)
 102               	.L11:
 103 0104 202E FFFC 	move.l -4(%fp),%d0
 104 0108 4E5E      	unlk %fp
 105 010a 4E75      	rts
 107               	.ident"GCC: (GNU) 4.5.1"
 108               	.section.note.GNU-stack,"",@progbits
68K GAS   			page 3


DEFINED SYMBOLS
                            *ABS*:00000000 strtoul.c
    {standard input}:7      .text:00000000 strtoul

UNDEFINED SYMBOLS
_ctype
toupper
