68K GAS   			page 1


   1               	
   2               	.file"s_tanh.c"
   3               	.section.rodata
   4               	.align2
   7               	one:
   8 0000 3FF0 0000 	.long1072693248
   9 0004 0000 0000 	.long0
  10               	.align2
  13               	two:
  14 0008 4000 0000 	.long1073741824
  15 000c 0000 0000 	.long0
  16               	.align2
  19               	tiny:
  20 0010 01A5 6E1F 	.long27618847
  21 0014 C2F8 F359 	.long-1023872167
  22               	.text
  23               	.align2
  24               	.globltanh
  26               	tanh:
  27 0000 4E56 FFE8 	link.w %fp,#-24
  28 0004 2F03      	move.l %d3,-(%sp)
  29 0006 2F02      	move.l %d2,-(%sp)
  30 0008 200E      	move.l %fp,%d0
  31 000a 5080      	addq.l #8,%d0
  32 000c 2040      	move.l %d0,%a0
  33 000e 2D50 FFF4 	move.l (%a0),-12(%fp)
  34 0012 202E FFF4 	move.l -12(%fp),%d0
  35 0016 0880 001F 	bclr #31,%d0
  36 001a 2D40 FFF0 	move.l %d0,-16(%fp)
  37 001e 0CAE 7FEF 	cmp.l #2146435071,-16(%fp)
  37      FFFF FFF0 
  38 0026 6F00 00C0 	jle .L2
  39 002a 4AAE FFF4 	tst.l -12(%fp)
  40 002e 6D5C      	jlt .L3
  41 0030 2039 0000 	move.l one,%d0
  41      0000 
  42 0036 2239 0000 	move.l one+4,%d1
  42      0000 
  43 003c 206E 0008 	move.l 8(%fp),%a0
  44 0040 226E 000C 	move.l 12(%fp),%a1
  45 0044 2F01      	move.l %d1,-(%sp)
  46 0046 2F00      	move.l %d0,-(%sp)
  47 0048 F21F 5400 	fmove.d (%sp)+,%fp0
  48 004c 2F09      	move.l %a1,-(%sp)
  49 004e 2F08      	move.l %a0,-(%sp)
  50 0050 F21F 5480 	fmove.d (%sp)+,%fp1
  51 0054 F200 0420 	fdiv.x %fp1,%fp0
  52 0058 F227 7400 	fmove.d %fp0,-(%sp)
  53 005c 201F      	move.l (%sp)+,%d0
  54 005e 221F      	move.l (%sp)+,%d1
  55 0060 2079 0000 	move.l one,%a0
  55      0000 
  56 0066 2279 0000 	move.l one+4,%a1
  56      0000 
  57 006c 2F01      	move.l %d1,-(%sp)
  58 006e 2F00      	move.l %d0,-(%sp)
  59 0070 F21F 5400 	fmove.d (%sp)+,%fp0
68K GAS   			page 2


  60 0074 2F09      	move.l %a1,-(%sp)
  61 0076 2F08      	move.l %a0,-(%sp)
  62 0078 F21F 5480 	fmove.d (%sp)+,%fp1
  63 007c F200 0422 	fadd.x %fp1,%fp0
  64 0080 F227 7400 	fmove.d %fp0,-(%sp)
  65 0084 201F      	move.l (%sp)+,%d0
  66 0086 221F      	move.l (%sp)+,%d1
  67 0088 6000 0298 	jra .L4
  68               	.L3:
  69 008c 2039 0000 	move.l one,%d0
  69      0000 
  70 0092 2239 0000 	move.l one+4,%d1
  70      0000 
  71 0098 206E 0008 	move.l 8(%fp),%a0
  72 009c 226E 000C 	move.l 12(%fp),%a1
  73 00a0 2F01      	move.l %d1,-(%sp)
  74 00a2 2F00      	move.l %d0,-(%sp)
  75 00a4 F21F 5400 	fmove.d (%sp)+,%fp0
  76 00a8 2F09      	move.l %a1,-(%sp)
  77 00aa 2F08      	move.l %a0,-(%sp)
  78 00ac F21F 5480 	fmove.d (%sp)+,%fp1
  79 00b0 F200 0420 	fdiv.x %fp1,%fp0
  80 00b4 F227 7400 	fmove.d %fp0,-(%sp)
  81 00b8 201F      	move.l (%sp)+,%d0
  82 00ba 221F      	move.l (%sp)+,%d1
  83 00bc 2079 0000 	move.l one,%a0
  83      0000 
  84 00c2 2279 0000 	move.l one+4,%a1
  84      0000 
  85 00c8 2F01      	move.l %d1,-(%sp)
  86 00ca 2F00      	move.l %d0,-(%sp)
  87 00cc F21F 5400 	fmove.d (%sp)+,%fp0
  88 00d0 2F09      	move.l %a1,-(%sp)
  89 00d2 2F08      	move.l %a0,-(%sp)
  90 00d4 F21F 5480 	fmove.d (%sp)+,%fp1
  91 00d8 F200 0428 	fsub.x %fp1,%fp0
  92 00dc F227 7400 	fmove.d %fp0,-(%sp)
  93 00e0 201F      	move.l (%sp)+,%d0
  94 00e2 221F      	move.l (%sp)+,%d1
  95 00e4 6000 023C 	jra .L4
  96               	.L2:
  97 00e8 0CAE 4035 	cmp.l #1077280767,-16(%fp)
  97      FFFF FFF0 
  98 00f0 6E00 01E2 	jgt .L5
  99 00f4 0CAE 3C7F 	cmp.l #1015021567,-16(%fp)
  99      FFFF FFF0 
 100 00fc 6E58      	jgt .L6
 101 00fe 2079 0000 	move.l one,%a0
 101      0000 
 102 0104 2279 0000 	move.l one+4,%a1
 102      0000 
 103 010a 202E 0008 	move.l 8(%fp),%d0
 104 010e 222E 000C 	move.l 12(%fp),%d1
 105 0112 2F09      	move.l %a1,-(%sp)
 106 0114 2F08      	move.l %a0,-(%sp)
 107 0116 F21F 5400 	fmove.d (%sp)+,%fp0
 108 011a 2F01      	move.l %d1,-(%sp)
68K GAS   			page 3


 109 011c 2F00      	move.l %d0,-(%sp)
 110 011e F21F 5480 	fmove.d (%sp)+,%fp1
 111 0122 F200 0422 	fadd.x %fp1,%fp0
 112 0126 F227 7400 	fmove.d %fp0,-(%sp)
 113 012a 201F      	move.l (%sp)+,%d0
 114 012c 221F      	move.l (%sp)+,%d1
 115 012e 206E 0008 	move.l 8(%fp),%a0
 116 0132 226E 000C 	move.l 12(%fp),%a1
 117 0136 2F01      	move.l %d1,-(%sp)
 118 0138 2F00      	move.l %d0,-(%sp)
 119 013a F21F 5400 	fmove.d (%sp)+,%fp0
 120 013e 2F09      	move.l %a1,-(%sp)
 121 0140 2F08      	move.l %a0,-(%sp)
 122 0142 F21F 5480 	fmove.d (%sp)+,%fp1
 123 0146 F200 0423 	fmul.x %fp1,%fp0
 124 014a F227 7400 	fmove.d %fp0,-(%sp)
 125 014e 201F      	move.l (%sp)+,%d0
 126 0150 221F      	move.l (%sp)+,%d1
 127 0152 6000 01CE 	jra .L4
 128               	.L6:
 129 0156 0CAE 3FEF 	cmp.l #1072693247,-16(%fp)
 129      FFFF FFF0 
 130 015e 6F00 00CC 	jle .L7
 131 0162 202E 0008 	move.l 8(%fp),%d0
 132 0166 222E 000C 	move.l 12(%fp),%d1
 133 016a 2F01      	move.l %d1,-(%sp)
 134 016c 2F00      	move.l %d0,-(%sp)
 135 016e 4EB9 0000 	jsr fabs
 135      0000 
 136 0174 508F      	addq.l #8,%sp
 137 0176 F227 7400 	fmove.d %fp0,-(%sp)
 138 017a 205F      	move.l (%sp)+,%a0
 139 017c 225F      	move.l (%sp)+,%a1
 140 017e 2039 0000 	move.l two,%d0
 140      0000 
 141 0184 2239 0000 	move.l two+4,%d1
 141      0000 
 142 018a 2F09      	move.l %a1,-(%sp)
 143 018c 2F08      	move.l %a0,-(%sp)
 144 018e F21F 5400 	fmove.d (%sp)+,%fp0
 145 0192 2F01      	move.l %d1,-(%sp)
 146 0194 2F00      	move.l %d0,-(%sp)
 147 0196 F21F 5480 	fmove.d (%sp)+,%fp1
 148 019a F200 0423 	fmul.x %fp1,%fp0
 149 019e F227 7400 	fmove.d %fp0,-(%sp)
 150 01a2 201F      	move.l (%sp)+,%d0
 151 01a4 221F      	move.l (%sp)+,%d1
 152 01a6 2F01      	move.l %d1,-(%sp)
 153 01a8 2F00      	move.l %d0,-(%sp)
 154 01aa 4EB9 0000 	jsr expm1
 154      0000 
 155 01b0 508F      	addq.l #8,%sp
 156 01b2 F22E 7400 	fmove.d %fp0,-24(%fp)
 156      FFE8 
 157 01b8 2079 0000 	move.l one,%a0
 157      0000 
 158 01be 2279 0000 	move.l one+4,%a1
68K GAS   			page 4


 158      0000 
 159 01c4 2439 0000 	move.l two,%d2
 159      0000 
 160 01ca 2639 0000 	move.l two+4,%d3
 160      0000 
 161 01d0 2039 0000 	move.l two,%d0
 161      0000 
 162 01d6 2239 0000 	move.l two+4,%d1
 162      0000 
 163 01dc 2F01      	move.l %d1,-(%sp)
 164 01de 2F00      	move.l %d0,-(%sp)
 165 01e0 F21F 5400 	fmove.d (%sp)+,%fp0
 166 01e4 F22E 5422 	fadd.d -24(%fp),%fp0
 166      FFE8 
 167 01ea F227 7400 	fmove.d %fp0,-(%sp)
 168 01ee 201F      	move.l (%sp)+,%d0
 169 01f0 221F      	move.l (%sp)+,%d1
 170 01f2 2F03      	move.l %d3,-(%sp)
 171 01f4 2F02      	move.l %d2,-(%sp)
 172 01f6 F21F 5480 	fmove.d (%sp)+,%fp1
 173 01fa 2F01      	move.l %d1,-(%sp)
 174 01fc 2F00      	move.l %d0,-(%sp)
 175 01fe F21F 5400 	fmove.d (%sp)+,%fp0
 176 0202 F200 00A0 	fdiv.x %fp0,%fp1
 177 0206 F227 7480 	fmove.d %fp1,-(%sp)
 178 020a 201F      	move.l (%sp)+,%d0
 179 020c 221F      	move.l (%sp)+,%d1
 180 020e 2F09      	move.l %a1,-(%sp)
 181 0210 2F08      	move.l %a0,-(%sp)
 182 0212 F21F 5480 	fmove.d (%sp)+,%fp1
 183 0216 2F01      	move.l %d1,-(%sp)
 184 0218 2F00      	move.l %d0,-(%sp)
 185 021a F21F 5400 	fmove.d (%sp)+,%fp0
 186 021e F200 00A8 	fsub.x %fp0,%fp1
 187 0222 F22E 7480 	fmove.d %fp1,-8(%fp)
 187      FFF8 
 188 0228 6000 00DC 	jra .L8
 189               	.L7:
 190 022c 2039 0000 	move.l two,%d0
 190      0000 
 191 0232 2239 0000 	move.l two+4,%d1
 191      0000 
 192 0238 2400      	move.l %d0,%d2
 193 023a 2601      	move.l %d1,%d3
 194 023c 0842 001F 	bchg #31,%d2
 195 0240 202E 0008 	move.l 8(%fp),%d0
 196 0244 222E 000C 	move.l 12(%fp),%d1
 197 0248 2F01      	move.l %d1,-(%sp)
 198 024a 2F00      	move.l %d0,-(%sp)
 199 024c 4EB9 0000 	jsr fabs
 199      0000 
 200 0252 508F      	addq.l #8,%sp
 201 0254 F227 7400 	fmove.d %fp0,-(%sp)
 202 0258 201F      	move.l (%sp)+,%d0
 203 025a 221F      	move.l (%sp)+,%d1
 204 025c 2F03      	move.l %d3,-(%sp)
 205 025e 2F02      	move.l %d2,-(%sp)
68K GAS   			page 5


 206 0260 F21F 5480 	fmove.d (%sp)+,%fp1
 207 0264 2F01      	move.l %d1,-(%sp)
 208 0266 2F00      	move.l %d0,-(%sp)
 209 0268 F21F 5400 	fmove.d (%sp)+,%fp0
 210 026c F200 00A3 	fmul.x %fp0,%fp1
 211 0270 F227 7480 	fmove.d %fp1,-(%sp)
 212 0274 201F      	move.l (%sp)+,%d0
 213 0276 221F      	move.l (%sp)+,%d1
 214 0278 2F01      	move.l %d1,-(%sp)
 215 027a 2F00      	move.l %d0,-(%sp)
 216 027c 4EB9 0000 	jsr expm1
 216      0000 
 217 0282 508F      	addq.l #8,%sp
 218 0284 F22E 7400 	fmove.d %fp0,-24(%fp)
 218      FFE8 
 219 028a 202E FFE8 	move.l -24(%fp),%d0
 220 028e 222E FFEC 	move.l -20(%fp),%d1
 221 0292 0840 001F 	bchg #31,%d0
 222 0296 2079 0000 	move.l two,%a0
 222      0000 
 223 029c 2279 0000 	move.l two+4,%a1
 223      0000 
 224 02a2 2F09      	move.l %a1,-(%sp)
 225 02a4 2F08      	move.l %a0,-(%sp)
 226 02a6 F21F 5480 	fmove.d (%sp)+,%fp1
 227 02aa F22E 54A2 	fadd.d -24(%fp),%fp1
 227      FFE8 
 228 02b0 F227 7480 	fmove.d %fp1,-(%sp)
 229 02b4 205F      	move.l (%sp)+,%a0
 230 02b6 225F      	move.l (%sp)+,%a1
 231 02b8 2F01      	move.l %d1,-(%sp)
 232 02ba 2F00      	move.l %d0,-(%sp)
 233 02bc F21F 5400 	fmove.d (%sp)+,%fp0
 234 02c0 2F09      	move.l %a1,-(%sp)
 235 02c2 2F08      	move.l %a0,-(%sp)
 236 02c4 F21F 5480 	fmove.d (%sp)+,%fp1
 237 02c8 F200 0420 	fdiv.x %fp1,%fp0
 238 02cc F22E 7400 	fmove.d %fp0,-8(%fp)
 238      FFF8 
 239 02d2 6032      	jra .L8
 240               	.L5:
 241 02d4 2039 0000 	move.l one,%d0
 241      0000 
 242 02da 2239 0000 	move.l one+4,%d1
 242      0000 
 243 02e0 2079 0000 	move.l tiny,%a0
 243      0000 
 244 02e6 2279 0000 	move.l tiny+4,%a1
 244      0000 
 245 02ec 2F01      	move.l %d1,-(%sp)
 246 02ee 2F00      	move.l %d0,-(%sp)
 247 02f0 F21F 5400 	fmove.d (%sp)+,%fp0
 248 02f4 2F09      	move.l %a1,-(%sp)
 249 02f6 2F08      	move.l %a0,-(%sp)
 250 02f8 F21F 5480 	fmove.d (%sp)+,%fp1
 251 02fc F200 0428 	fsub.x %fp1,%fp0
 252 0300 F22E 7400 	fmove.d %fp0,-8(%fp)
68K GAS   			page 6


 252      FFF8 
 253               	.L8:
 254 0306 4AAE FFF4 	tst.l -12(%fp)
 255 030a 6C0E      	jge .L9
 256 030c 202E FFF8 	move.l -8(%fp),%d0
 257 0310 222E FFFC 	move.l -4(%fp),%d1
 258 0314 0840 001F 	bchg #31,%d0
 259 0318 6008      	jra .L10
 260               	.L9:
 261 031a 202E FFF8 	move.l -8(%fp),%d0
 262 031e 222E FFFC 	move.l -4(%fp),%d1
 263               	.L10:
 264               	.L4:
 265 0322 2F01      	move.l %d1,-(%sp)
 266 0324 2F00      	move.l %d0,-(%sp)
 267 0326 F21F 5400 	fmove.d (%sp)+,%fp0
 268 032a 242E FFE0 	move.l -32(%fp),%d2
 269 032e 262E FFE4 	move.l -28(%fp),%d3
 270 0332 4E5E      	unlk %fp
 271 0334 4E75      	rts
 273               	.ident"GCC: (GNU) 4.5.1"
 274               	.section.note.GNU-stack,"",@progbits
68K GAS   			page 7


DEFINED SYMBOLS
                            *ABS*:00000000 s_tanh.c
    {standard input}:7      .rodata:00000000 one
    {standard input}:13     .rodata:00000008 two
    {standard input}:19     .rodata:00000010 tiny
    {standard input}:26     .text:00000000 tanh

UNDEFINED SYMBOLS
fabs
expm1
