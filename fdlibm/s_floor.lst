68K GAS   			page 1


   1               	
   2               	.file"s_floor.c"
   3               	.section.rodata
   4               	.align2
   7               	huge:
   8 0000 7E37 E43C 	.long2117592124
   9 0004 8800 759C 	.long-2013235812
  10               	.text
  11               	.align2
  12               	.globlfloor
  14               	floor:
  15 0000 4E56 FFEC 	link.w %fp,#-20
  16 0004 2F02      	move.l %d2,-(%sp)
  17 0006 200E      	move.l %fp,%d0
  18 0008 5080      	addq.l #8,%d0
  19 000a 2040      	move.l %d0,%a0
  20 000c 2D50 FFFC 	move.l (%a0),-4(%fp)
  21 0010 200E      	move.l %fp,%d0
  22 0012 5080      	addq.l #8,%d0
  23 0014 5880      	addq.l #4,%d0
  24 0016 2040      	move.l %d0,%a0
  25 0018 2D50 FFF8 	move.l (%a0),-8(%fp)
  26 001c 202E FFFC 	move.l -4(%fp),%d0
  27 0020 7214      	moveq #20,%d1
  28 0022 E2A0      	asr.l %d1,%d0
  29 0024 0280 0000 	and.l #2047,%d0
  29      07FF 
  30 002a 2400      	move.l %d0,%d2
  31 002c 0682 FFFF 	add.l #-1023,%d2
  31      FC01 
  32 0032 2D42 FFF4 	move.l %d2,-12(%fp)
  33 0036 7013      	moveq #19,%d0
  34 0038 B0AE FFF4 	cmp.l -12(%fp),%d0
  35 003c 6D00 0142 	jlt .L2
  36 0040 4AAE FFF4 	tst.l -12(%fp)
  37 0044 6C00 008C 	jge .L3
  38 0048 2079 0000 	move.l huge,%a0
  38      0000 
  39 004e 2279 0000 	move.l huge+4,%a1
  39      0000 
  40 0054 202E 0008 	move.l 8(%fp),%d0
  41 0058 222E 000C 	move.l 12(%fp),%d1
  42 005c 2F09      	move.l %a1,-(%sp)
  43 005e 2F08      	move.l %a0,-(%sp)
  44 0060 F21F 5400 	fmove.d (%sp)+,%fp0
  45 0064 2F01      	move.l %d1,-(%sp)
  46 0066 2F00      	move.l %d0,-(%sp)
  47 0068 F21F 5480 	fmove.d (%sp)+,%fp1
  48 006c F200 0422 	fadd.x %fp1,%fp0
  49 0070 F227 7400 	fmove.d %fp0,-(%sp)
  50 0074 201F      	move.l (%sp)+,%d0
  51 0076 221F      	move.l (%sp)+,%d1
  52 0078 91C8      	sub.l %a0,%a0
  53 007a 93C9      	sub.l %a1,%a1
  54 007c 2F01      	move.l %d1,-(%sp)
  55 007e 2F00      	move.l %d0,-(%sp)
  56 0080 F21F 5400 	fmove.d (%sp)+,%fp0
68K GAS   			page 2


  57 0084 2F09      	move.l %a1,-(%sp)
  58 0086 2F08      	move.l %a0,-(%sp)
  59 0088 F21F 5480 	fmove.d (%sp)+,%fp1
  60 008c F200 0438 	fcmp.x %fp1,%fp0
  61 0090 F240 0012 	fsgt %d0
  62 0094 4400      	neg.b %d0
  63 0096 4A00      	tst.b %d0
  64 0098 6700 01F6 	jeq .L4
  65 009c 4AAE FFFC 	tst.l -4(%fp)
  66 00a0 6D0E      	jlt .L5
  67 00a2 42AE FFF8 	clr.l -8(%fp)
  68 00a6 2D6E FFF8 	move.l -8(%fp),-4(%fp)
  68      FFFC 
  69 00ac 6000 01E2 	jra .L4
  70               	.L5:
  71 00b0 202E FFFC 	move.l -4(%fp),%d0
  72 00b4 0880 001F 	bclr #31,%d0
  73 00b8 80AE FFF8 	or.l -8(%fp),%d0
  74 00bc 4A80      	tst.l %d0
  75 00be 6700 01D0 	jeq .L4
  76 00c2 2D7C BFF0 	move.l #-1074790400,-4(%fp)
  76      0000 FFFC 
  77 00ca 42AE FFF8 	clr.l -8(%fp)
  78 00ce 6000 01C0 	jra .L4
  79               	.L3:
  80 00d2 203C 000F 	move.l #1048575,%d0
  80      FFFF 
  81 00d8 222E FFF4 	move.l -12(%fp),%d1
  82 00dc E2A0      	asr.l %d1,%d0
  83 00de 2D40 FFF0 	move.l %d0,-16(%fp)
  84 00e2 202E FFFC 	move.l -4(%fp),%d0
  85 00e6 C0AE FFF0 	and.l -16(%fp),%d0
  86 00ea 222E FFF8 	move.l -8(%fp),%d1
  87 00ee 8081      	or.l %d1,%d0
  88 00f0 4A80      	tst.l %d0
  89 00f2 660C      	jne .L6
  90 00f4 202E 0008 	move.l 8(%fp),%d0
  91 00f8 222E 000C 	move.l 12(%fp),%d1
  92 00fc 6000 01B0 	jra .L7
  93               	.L6:
  94 0100 2079 0000 	move.l huge,%a0
  94      0000 
  95 0106 2279 0000 	move.l huge+4,%a1
  95      0000 
  96 010c 202E 0008 	move.l 8(%fp),%d0
  97 0110 222E 000C 	move.l 12(%fp),%d1
  98 0114 2F09      	move.l %a1,-(%sp)
  99 0116 2F08      	move.l %a0,-(%sp)
 100 0118 F21F 5400 	fmove.d (%sp)+,%fp0
 101 011c 2F01      	move.l %d1,-(%sp)
 102 011e 2F00      	move.l %d0,-(%sp)
 103 0120 F21F 5480 	fmove.d (%sp)+,%fp1
 104 0124 F200 0422 	fadd.x %fp1,%fp0
 105 0128 F227 7400 	fmove.d %fp0,-(%sp)
 106 012c 201F      	move.l (%sp)+,%d0
 107 012e 221F      	move.l (%sp)+,%d1
 108 0130 91C8      	sub.l %a0,%a0
68K GAS   			page 3


 109 0132 93C9      	sub.l %a1,%a1
 110 0134 2F01      	move.l %d1,-(%sp)
 111 0136 2F00      	move.l %d0,-(%sp)
 112 0138 F21F 5400 	fmove.d (%sp)+,%fp0
 113 013c 2F09      	move.l %a1,-(%sp)
 114 013e 2F08      	move.l %a0,-(%sp)
 115 0140 F21F 5480 	fmove.d (%sp)+,%fp1
 116 0144 F200 0438 	fcmp.x %fp1,%fp0
 117 0148 F240 0012 	fsgt %d0
 118 014c 4400      	neg.b %d0
 119 014e 4A00      	tst.b %d0
 120 0150 6700 013E 	jeq .L4
 121 0154 4AAE FFFC 	tst.l -4(%fp)
 122 0158 6C0E      	jge .L8
 123 015a 7010      	moveq #16,%d0
 124 015c 4840      	swap %d0
 125 015e 222E FFF4 	move.l -12(%fp),%d1
 126 0162 E2A0      	asr.l %d1,%d0
 127 0164 D1AE FFFC 	add.l %d0,-4(%fp)
 128               	.L8:
 129 0168 222E FFF0 	move.l -16(%fp),%d1
 130 016c 4681      	not.l %d1
 131 016e 202E FFFC 	move.l -4(%fp),%d0
 132 0172 C081      	and.l %d1,%d0
 133 0174 2D40 FFFC 	move.l %d0,-4(%fp)
 134 0178 42AE FFF8 	clr.l -8(%fp)
 135 017c 6000 0112 	jra .L4
 136               	.L2:
 137 0180 7433      	moveq #51,%d2
 138 0182 B4AE FFF4 	cmp.l -12(%fp),%d2
 139 0186 6C3E      	jge .L9
 140 0188 0CAE 0000 	cmp.l #1024,-12(%fp)
 140      0400 FFF4 
 141 0190 6628      	jne .L10
 142 0192 202E 0008 	move.l 8(%fp),%d0
 143 0196 222E 000C 	move.l 12(%fp),%d1
 144 019a 2F01      	move.l %d1,-(%sp)
 145 019c 2F00      	move.l %d0,-(%sp)
 146 019e F21F 5400 	fmove.d (%sp)+,%fp0
 147 01a2 2F01      	move.l %d1,-(%sp)
 148 01a4 2F00      	move.l %d0,-(%sp)
 149 01a6 F21F 5480 	fmove.d (%sp)+,%fp1
 150 01aa F200 0422 	fadd.x %fp1,%fp0
 151 01ae F227 7400 	fmove.d %fp0,-(%sp)
 152 01b2 201F      	move.l (%sp)+,%d0
 153 01b4 221F      	move.l (%sp)+,%d1
 154 01b6 6000 00F6 	jra .L7
 155               	.L10:
 156 01ba 202E 0008 	move.l 8(%fp),%d0
 157 01be 222E 000C 	move.l 12(%fp),%d1
 158 01c2 6000 00EA 	jra .L7
 159               	.L9:
 160 01c6 70EC      	moveq #-20,%d0
 161 01c8 D0AE FFF4 	add.l -12(%fp),%d0
 162 01cc 72FF      	moveq #-1,%d1
 163 01ce 2401      	move.l %d1,%d2
 164 01d0 E0AA      	lsr.l %d0,%d2
68K GAS   			page 4


 165 01d2 2002      	move.l %d2,%d0
 166 01d4 2D40 FFF0 	move.l %d0,-16(%fp)
 167 01d8 202E FFF8 	move.l -8(%fp),%d0
 168 01dc C0AE FFF0 	and.l -16(%fp),%d0
 169 01e0 4A80      	tst.l %d0
 170 01e2 660C      	jne .L11
 171 01e4 202E 0008 	move.l 8(%fp),%d0
 172 01e8 222E 000C 	move.l 12(%fp),%d1
 173 01ec 6000 00C0 	jra .L7
 174               	.L11:
 175 01f0 2079 0000 	move.l huge,%a0
 175      0000 
 176 01f6 2279 0000 	move.l huge+4,%a1
 176      0000 
 177 01fc 202E 0008 	move.l 8(%fp),%d0
 178 0200 222E 000C 	move.l 12(%fp),%d1
 179 0204 2F09      	move.l %a1,-(%sp)
 180 0206 2F08      	move.l %a0,-(%sp)
 181 0208 F21F 5400 	fmove.d (%sp)+,%fp0
 182 020c 2F01      	move.l %d1,-(%sp)
 183 020e 2F00      	move.l %d0,-(%sp)
 184 0210 F21F 5480 	fmove.d (%sp)+,%fp1
 185 0214 F200 0422 	fadd.x %fp1,%fp0
 186 0218 F227 7400 	fmove.d %fp0,-(%sp)
 187 021c 201F      	move.l (%sp)+,%d0
 188 021e 221F      	move.l (%sp)+,%d1
 189 0220 91C8      	sub.l %a0,%a0
 190 0222 93C9      	sub.l %a1,%a1
 191 0224 2F01      	move.l %d1,-(%sp)
 192 0226 2F00      	move.l %d0,-(%sp)
 193 0228 F21F 5400 	fmove.d (%sp)+,%fp0
 194 022c 2F09      	move.l %a1,-(%sp)
 195 022e 2F08      	move.l %a0,-(%sp)
 196 0230 F21F 5480 	fmove.d (%sp)+,%fp1
 197 0234 F200 0438 	fcmp.x %fp1,%fp0
 198 0238 F240 0012 	fsgt %d0
 199 023c 4400      	neg.b %d0
 200 023e 4A00      	tst.b %d0
 201 0240 674E      	jeq .L4
 202 0242 4AAE FFFC 	tst.l -4(%fp)
 203 0246 6C38      	jge .L12
 204 0248 7014      	moveq #20,%d0
 205 024a B0AE FFF4 	cmp.l -12(%fp),%d0
 206 024e 6606      	jne .L13
 207 0250 52AE FFFC 	addq.l #1,-4(%fp)
 208 0254 602A      	jra .L12
 209               	.L13:
 210 0256 7034      	moveq #52,%d0
 211 0258 90AE FFF4 	sub.l -12(%fp),%d0
 212 025c 7201      	moveq #1,%d1
 213 025e 2401      	move.l %d1,%d2
 214 0260 E1AA      	lsl.l %d0,%d2
 215 0262 2002      	move.l %d2,%d0
 216 0264 D0AE FFF8 	add.l -8(%fp),%d0
 217 0268 2D40 FFEC 	move.l %d0,-20(%fp)
 218 026c 202E FFF8 	move.l -8(%fp),%d0
 219 0270 B0AE FFEC 	cmp.l -20(%fp),%d0
68K GAS   			page 5


 220 0274 6304      	jls .L14
 221 0276 52AE FFFC 	addq.l #1,-4(%fp)
 222               	.L14:
 223 027a 2D6E FFEC 	move.l -20(%fp),-8(%fp)
 223      FFF8 
 224               	.L12:
 225 0280 222E FFF0 	move.l -16(%fp),%d1
 226 0284 4681      	not.l %d1
 227 0286 202E FFF8 	move.l -8(%fp),%d0
 228 028a C081      	and.l %d1,%d0
 229 028c 2D40 FFF8 	move.l %d0,-8(%fp)
 230               	.L4:
 231 0290 200E      	move.l %fp,%d0
 232 0292 5080      	addq.l #8,%d0
 233 0294 2040      	move.l %d0,%a0
 234 0296 20AE FFFC 	move.l -4(%fp),(%a0)
 235 029a 200E      	move.l %fp,%d0
 236 029c 5080      	addq.l #8,%d0
 237 029e 5880      	addq.l #4,%d0
 238 02a0 2040      	move.l %d0,%a0
 239 02a2 20AE FFF8 	move.l -8(%fp),(%a0)
 240 02a6 202E 0008 	move.l 8(%fp),%d0
 241 02aa 222E 000C 	move.l 12(%fp),%d1
 242               	.L7:
 243 02ae 2F01      	move.l %d1,-(%sp)
 244 02b0 2F00      	move.l %d0,-(%sp)
 245 02b2 F21F 5400 	fmove.d (%sp)+,%fp0
 246 02b6 241F      	move.l (%sp)+,%d2
 247 02b8 4E5E      	unlk %fp
 248 02ba 4E75      	rts
 250               	.ident"GCC: (GNU) 4.5.1"
 251               	.section.note.GNU-stack,"",@progbits
68K GAS   			page 6


DEFINED SYMBOLS
                            *ABS*:00000000 s_floor.c
    {standard input}:7      .rodata:00000000 huge
    {standard input}:14     .text:00000000 floor

NO UNDEFINED SYMBOLS
