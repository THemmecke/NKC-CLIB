68K GAS   			page 1


   1               	
   2               	.file"s_rint.c"
   3               	.section.rodata
   4               	.align2
   7               	TWO52:
   8 0000 4330 0000 	.long1127219200
   9 0004 0000 0000 	.long0
  10 0008 C330 0000 	.long-1020264448
  11 000c 0000 0000 	.long0
  12               	.text
  13               	.align2
  14               	.globlrint
  16               	rint:
  17 0000 4E56 FFDC 	link.w %fp,#-36
  18 0004 2F02      	move.l %d2,-(%sp)
  19 0006 200E      	move.l %fp,%d0
  20 0008 5080      	addq.l #8,%d0
  21 000a 2040      	move.l %d0,%a0
  22 000c 2D50 FFFC 	move.l (%a0),-4(%fp)
  23 0010 202E FFFC 	move.l -4(%fp),%d0
  24 0014 D080      	add.l %d0,%d0
  25 0016 9180      	subx.l %d0,%d0
  26 0018 4480      	neg.l %d0
  27 001a 2D40 FFF4 	move.l %d0,-12(%fp)
  28 001e 200E      	move.l %fp,%d0
  29 0020 5080      	addq.l #8,%d0
  30 0022 5880      	addq.l #4,%d0
  31 0024 2040      	move.l %d0,%a0
  32 0026 2010      	move.l (%a0),%d0
  33 0028 2D40 FFF8 	move.l %d0,-8(%fp)
  34 002c 202E FFFC 	move.l -4(%fp),%d0
  35 0030 7214      	moveq #20,%d1
  36 0032 E2A0      	asr.l %d1,%d0
  37 0034 0280 0000 	and.l #2047,%d0
  37      07FF 
  38 003a 2400      	move.l %d0,%d2
  39 003c 0682 FFFF 	add.l #-1023,%d2
  39      FC01 
  40 0042 2D42 FFF0 	move.l %d2,-16(%fp)
  41 0046 7013      	moveq #19,%d0
  42 0048 B0AE FFF0 	cmp.l -16(%fp),%d0
  43 004c 6D00 0180 	jlt .L2
  44 0050 4AAE FFF0 	tst.l -16(%fp)
  45 0054 6C00 00FC 	jge .L3
  46 0058 202E FFFC 	move.l -4(%fp),%d0
  47 005c 0880 001F 	bclr #31,%d0
  48 0060 80AE FFF8 	or.l -8(%fp),%d0
  49 0064 4A80      	tst.l %d0
  50 0066 660C      	jne .L4
  51 0068 202E 0008 	move.l 8(%fp),%d0
  52 006c 222E 000C 	move.l 12(%fp),%d1
  53 0070 6000 0284 	jra .L5
  54               	.L4:
  55 0074 202E FFFC 	move.l -4(%fp),%d0
  56 0078 0280 000F 	and.l #1048575,%d0
  56      FFFF 
  57 007e 81AE FFF8 	or.l %d0,-8(%fp)
68K GAS   			page 2


  58 0082 02AE FFFE 	and.l #-131072,-4(%fp)
  58      0000 FFFC 
  59 008a 202E FFF8 	move.l -8(%fp),%d0
  60 008e 4480      	neg.l %d0
  61 0090 80AE FFF8 	or.l -8(%fp),%d0
  62 0094 720C      	moveq #12,%d1
  63 0096 E2A8      	lsr.l %d1,%d0
  64 0098 0280 0008 	and.l #524288,%d0
  64      0000 
  65 009e 222E FFFC 	move.l -4(%fp),%d1
  66 00a2 8081      	or.l %d1,%d0
  67 00a4 2D40 FFFC 	move.l %d0,-4(%fp)
  68 00a8 200E      	move.l %fp,%d0
  69 00aa 5080      	addq.l #8,%d0
  70 00ac 2040      	move.l %d0,%a0
  71 00ae 20AE FFFC 	move.l -4(%fp),(%a0)
  72 00b2 202E FFF4 	move.l -12(%fp),%d0
  73 00b6 2070 0FB0 	move.l TWO52(%d0.l*8),%a0
  73      0000 0000 
  74 00be 2270 0FB0 	move.l TWO52+4(%d0.l*8),%a1
  74      0000 0000 
  75 00c6 202E 0008 	move.l 8(%fp),%d0
  76 00ca 222E 000C 	move.l 12(%fp),%d1
  77 00ce 2F09      	move.l %a1,-(%sp)
  78 00d0 2F08      	move.l %a0,-(%sp)
  79 00d2 F21F 5400 	fmove.d (%sp)+,%fp0
  80 00d6 2F01      	move.l %d1,-(%sp)
  81 00d8 2F00      	move.l %d0,-(%sp)
  82 00da F21F 5480 	fmove.d (%sp)+,%fp1
  83 00de F200 0422 	fadd.x %fp1,%fp0
  84 00e2 F22E 7400 	fmove.d %fp0,-24(%fp)
  84      FFE8 
  85 00e8 202E FFF4 	move.l -12(%fp),%d0
  86 00ec 2230 0FB0 	move.l TWO52+4(%d0.l*8),%d1
  86      0000 0000 
  87 00f4 2030 0FB0 	move.l TWO52(%d0.l*8),%d0
  87      0000 0000 
  88 00fc F22E 5400 	fmove.d -24(%fp),%fp0
  88      FFE8 
  89 0102 2F01      	move.l %d1,-(%sp)
  90 0104 2F00      	move.l %d0,-(%sp)
  91 0106 F21F 5480 	fmove.d (%sp)+,%fp1
  92 010a F200 0428 	fsub.x %fp1,%fp0
  93 010e F227 7400 	fmove.d %fp0,-(%sp)
  94 0112 201F      	move.l (%sp)+,%d0
  95 0114 221F      	move.l (%sp)+,%d1
  96 0116 2D40 FFDC 	move.l %d0,-36(%fp)
  97 011a 2D41 FFE0 	move.l %d1,-32(%fp)
  98 011e 70DC      	moveq #-36,%d0
  99 0120 D08E      	add.l %fp,%d0
 100 0122 2040      	move.l %d0,%a0
 101 0124 2D50 FFFC 	move.l (%a0),-4(%fp)
 102 0128 70DC      	moveq #-36,%d0
 103 012a D08E      	add.l %fp,%d0
 104 012c 222E FFFC 	move.l -4(%fp),%d1
 105 0130 0881 001F 	bclr #31,%d1
 106 0134 2041      	move.l %d1,%a0
68K GAS   			page 3


 107 0136 222E FFF4 	move.l -12(%fp),%d1
 108 013a 741F      	moveq #31,%d2
 109 013c E5A9      	lsl.l %d2,%d1
 110 013e 2408      	move.l %a0,%d2
 111 0140 8282      	or.l %d2,%d1
 112 0142 2040      	move.l %d0,%a0
 113 0144 2081      	move.l %d1,(%a0)
 114 0146 202E FFDC 	move.l -36(%fp),%d0
 115 014a 222E FFE0 	move.l -32(%fp),%d1
 116 014e 6000 01A6 	jra .L5
 117               	.L3:
 118 0152 203C 000F 	move.l #1048575,%d0
 118      FFFF 
 119 0158 222E FFF0 	move.l -16(%fp),%d1
 120 015c E2A0      	asr.l %d1,%d0
 121 015e 2D40 FFE4 	move.l %d0,-28(%fp)
 122 0162 202E FFFC 	move.l -4(%fp),%d0
 123 0166 C0AE FFE4 	and.l -28(%fp),%d0
 124 016a 80AE FFF8 	or.l -8(%fp),%d0
 125 016e 4A80      	tst.l %d0
 126 0170 660C      	jne .L6
 127 0172 202E 0008 	move.l 8(%fp),%d0
 128 0176 222E 000C 	move.l 12(%fp),%d1
 129 017a 6000 017A 	jra .L5
 130               	.L6:
 131 017e 202E FFE4 	move.l -28(%fp),%d0
 132 0182 E288      	lsr.l #1,%d0
 133 0184 2D40 FFE4 	move.l %d0,-28(%fp)
 134 0188 202E FFFC 	move.l -4(%fp),%d0
 135 018c C0AE FFE4 	and.l -28(%fp),%d0
 136 0190 80AE FFF8 	or.l -8(%fp),%d0
 137 0194 4A80      	tst.l %d0
 138 0196 6700 00E2 	jeq .L7
 139 019a 7413      	moveq #19,%d2
 140 019c B4AE FFF0 	cmp.l -16(%fp),%d2
 141 01a0 660C      	jne .L8
 142 01a2 2D7C 4000 	move.l #1073741824,-8(%fp)
 142      0000 FFF8 
 143 01aa 6000 00CE 	jra .L7
 144               	.L8:
 145 01ae 222E FFE4 	move.l -28(%fp),%d1
 146 01b2 4681      	not.l %d1
 147 01b4 202E FFFC 	move.l -4(%fp),%d0
 148 01b8 C081      	and.l %d1,%d0
 149 01ba 7202      	moveq #2,%d1
 150 01bc 4841      	swap %d1
 151 01be 242E FFF0 	move.l -16(%fp),%d2
 152 01c2 E4A1      	asr.l %d2,%d1
 153 01c4 8081      	or.l %d1,%d0
 154 01c6 2D40 FFFC 	move.l %d0,-4(%fp)
 155 01ca 6000 00AE 	jra .L7
 156               	.L2:
 157 01ce 7033      	moveq #51,%d0
 158 01d0 B0AE FFF0 	cmp.l -16(%fp),%d0
 159 01d4 6C3E      	jge .L9
 160 01d6 0CAE 0000 	cmp.l #1024,-16(%fp)
 160      0400 FFF0 
68K GAS   			page 4


 161 01de 6628      	jne .L10
 162 01e0 202E 0008 	move.l 8(%fp),%d0
 163 01e4 222E 000C 	move.l 12(%fp),%d1
 164 01e8 2F01      	move.l %d1,-(%sp)
 165 01ea 2F00      	move.l %d0,-(%sp)
 166 01ec F21F 5400 	fmove.d (%sp)+,%fp0
 167 01f0 2F01      	move.l %d1,-(%sp)
 168 01f2 2F00      	move.l %d0,-(%sp)
 169 01f4 F21F 5480 	fmove.d (%sp)+,%fp1
 170 01f8 F200 0422 	fadd.x %fp1,%fp0
 171 01fc F227 7400 	fmove.d %fp0,-(%sp)
 172 0200 201F      	move.l (%sp)+,%d0
 173 0202 221F      	move.l (%sp)+,%d1
 174 0204 6000 00F0 	jra .L5
 175               	.L10:
 176 0208 202E 0008 	move.l 8(%fp),%d0
 177 020c 222E 000C 	move.l 12(%fp),%d1
 178 0210 6000 00E4 	jra .L5
 179               	.L9:
 180 0214 70EC      	moveq #-20,%d0
 181 0216 D0AE FFF0 	add.l -16(%fp),%d0
 182 021a 72FF      	moveq #-1,%d1
 183 021c 2401      	move.l %d1,%d2
 184 021e E0AA      	lsr.l %d0,%d2
 185 0220 2002      	move.l %d2,%d0
 186 0222 2D40 FFE4 	move.l %d0,-28(%fp)
 187 0226 202E FFF8 	move.l -8(%fp),%d0
 188 022a C0AE FFE4 	and.l -28(%fp),%d0
 189 022e 4A80      	tst.l %d0
 190 0230 660C      	jne .L11
 191 0232 202E 0008 	move.l 8(%fp),%d0
 192 0236 222E 000C 	move.l 12(%fp),%d1
 193 023a 6000 00BA 	jra .L5
 194               	.L11:
 195 023e 202E FFE4 	move.l -28(%fp),%d0
 196 0242 E288      	lsr.l #1,%d0
 197 0244 2D40 FFE4 	move.l %d0,-28(%fp)
 198 0248 202E FFF8 	move.l -8(%fp),%d0
 199 024c C0AE FFE4 	and.l -28(%fp),%d0
 200 0250 4A80      	tst.l %d0
 201 0252 6726      	jeq .L7
 202 0254 202E FFE4 	move.l -28(%fp),%d0
 203 0258 4680      	not.l %d0
 204 025a 2200      	move.l %d0,%d1
 205 025c C2AE FFF8 	and.l -8(%fp),%d1
 206 0260 70EC      	moveq #-20,%d0
 207 0262 D0AE FFF0 	add.l -16(%fp),%d0
 208 0266 207C 4000 	move.l #1073741824,%a0
 208      0000 
 209 026c 2408      	move.l %a0,%d2
 210 026e E0A2      	asr.l %d0,%d2
 211 0270 2002      	move.l %d2,%d0
 212 0272 2401      	move.l %d1,%d2
 213 0274 8480      	or.l %d0,%d2
 214 0276 2D42 FFF8 	move.l %d2,-8(%fp)
 215               	.L7:
 216 027a 200E      	move.l %fp,%d0
68K GAS   			page 5


 217 027c 5080      	addq.l #8,%d0
 218 027e 2040      	move.l %d0,%a0
 219 0280 20AE FFFC 	move.l -4(%fp),(%a0)
 220 0284 200E      	move.l %fp,%d0
 221 0286 5080      	addq.l #8,%d0
 222 0288 5880      	addq.l #4,%d0
 223 028a 222E FFF8 	move.l -8(%fp),%d1
 224 028e 2040      	move.l %d0,%a0
 225 0290 2081      	move.l %d1,(%a0)
 226 0292 202E FFF4 	move.l -12(%fp),%d0
 227 0296 2070 0FB0 	move.l TWO52(%d0.l*8),%a0
 227      0000 0000 
 228 029e 2270 0FB0 	move.l TWO52+4(%d0.l*8),%a1
 228      0000 0000 
 229 02a6 202E 0008 	move.l 8(%fp),%d0
 230 02aa 222E 000C 	move.l 12(%fp),%d1
 231 02ae 2F09      	move.l %a1,-(%sp)
 232 02b0 2F08      	move.l %a0,-(%sp)
 233 02b2 F21F 5400 	fmove.d (%sp)+,%fp0
 234 02b6 2F01      	move.l %d1,-(%sp)
 235 02b8 2F00      	move.l %d0,-(%sp)
 236 02ba F21F 5480 	fmove.d (%sp)+,%fp1
 237 02be F200 0422 	fadd.x %fp1,%fp0
 238 02c2 F22E 7400 	fmove.d %fp0,-24(%fp)
 238      FFE8 
 239 02c8 202E FFF4 	move.l -12(%fp),%d0
 240 02cc 2230 0FB0 	move.l TWO52+4(%d0.l*8),%d1
 240      0000 0000 
 241 02d4 2030 0FB0 	move.l TWO52(%d0.l*8),%d0
 241      0000 0000 
 242 02dc F22E 5400 	fmove.d -24(%fp),%fp0
 242      FFE8 
 243 02e2 2F01      	move.l %d1,-(%sp)
 244 02e4 2F00      	move.l %d0,-(%sp)
 245 02e6 F21F 5480 	fmove.d (%sp)+,%fp1
 246 02ea F200 0428 	fsub.x %fp1,%fp0
 247 02ee F227 7400 	fmove.d %fp0,-(%sp)
 248 02f2 201F      	move.l (%sp)+,%d0
 249 02f4 221F      	move.l (%sp)+,%d1
 250               	.L5:
 251 02f6 2F01      	move.l %d1,-(%sp)
 252 02f8 2F00      	move.l %d0,-(%sp)
 253 02fa F21F 5400 	fmove.d (%sp)+,%fp0
 254 02fe 241F      	move.l (%sp)+,%d2
 255 0300 4E5E      	unlk %fp
 256 0302 4E75      	rts
 258               	.ident"GCC: (GNU) 4.5.1"
 259               	.section.note.GNU-stack,"",@progbits
68K GAS   			page 6


DEFINED SYMBOLS
                            *ABS*:00000000 s_rint.c
    {standard input}:7      .rodata:00000000 TWO52
    {standard input}:16     .text:00000000 rint

NO UNDEFINED SYMBOLS
