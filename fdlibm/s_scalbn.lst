68K GAS   			page 1


   1               	
   2               	.file"s_scalbn.c"
   3               	.section.rodata
   4               	.align2
   7               	two54:
   8 0000 4350 0000 	.long1129316352
   9 0004 0000 0000 	.long0
  10               	.align2
  13               	twom54:
  14 0008 3C90 0000 	.long1016070144
  15 000c 0000 0000 	.long0
  16               	.align2
  19               	huge:
  20 0010 7E37 E43C 	.long2117592124
  21 0014 8800 759C 	.long-2013235812
  22               	.align2
  25               	tiny:
  26 0018 01A5 6E1F 	.long27618847
  27 001c C2F8 F359 	.long-1023872167
  28               	.text
  29               	.align2
  30               	.globlscalbn
  32               	scalbn:
  33 0000 4E56 FFF4 	link.w %fp,#-12
  34 0004 2F03      	move.l %d3,-(%sp)
  35 0006 2F02      	move.l %d2,-(%sp)
  36 0008 200E      	move.l %fp,%d0
  37 000a 5080      	addq.l #8,%d0
  38 000c 2040      	move.l %d0,%a0
  39 000e 2D50 FFF8 	move.l (%a0),-8(%fp)
  40 0012 200E      	move.l %fp,%d0
  41 0014 5080      	addq.l #8,%d0
  42 0016 5880      	addq.l #4,%d0
  43 0018 2040      	move.l %d0,%a0
  44 001a 2D50 FFF4 	move.l (%a0),-12(%fp)
  45 001e 202E FFF8 	move.l -8(%fp),%d0
  46 0022 0280 7FF0 	and.l #2146435072,%d0
  46      0000 
  47 0028 7214      	moveq #20,%d1
  48 002a E2A0      	asr.l %d1,%d0
  49 002c 2D40 FFFC 	move.l %d0,-4(%fp)
  50 0030 4AAE FFFC 	tst.l -4(%fp)
  51 0034 6600 00B4 	jne .L2
  52 0038 202E FFF8 	move.l -8(%fp),%d0
  53 003c 0880 001F 	bclr #31,%d0
  54 0040 80AE FFF4 	or.l -12(%fp),%d0
  55 0044 4A80      	tst.l %d0
  56 0046 660C      	jne .L3
  57 0048 202E 0008 	move.l 8(%fp),%d0
  58 004c 222E 000C 	move.l 12(%fp),%d1
  59 0050 6000 0288 	jra .L4
  60               	.L3:
  61 0054 206E 0008 	move.l 8(%fp),%a0
  62 0058 226E 000C 	move.l 12(%fp),%a1
  63 005c 2039 0000 	move.l two54,%d0
  63      0000 
  64 0062 2239 0000 	move.l two54+4,%d1
68K GAS   			page 2


  64      0000 
  65 0068 2F09      	move.l %a1,-(%sp)
  66 006a 2F08      	move.l %a0,-(%sp)
  67 006c F21F 5400 	fmove.d (%sp)+,%fp0
  68 0070 2F01      	move.l %d1,-(%sp)
  69 0072 2F00      	move.l %d0,-(%sp)
  70 0074 F21F 5480 	fmove.d (%sp)+,%fp1
  71 0078 F200 0423 	fmul.x %fp1,%fp0
  72 007c F227 7400 	fmove.d %fp0,-(%sp)
  73 0080 201F      	move.l (%sp)+,%d0
  74 0082 221F      	move.l (%sp)+,%d1
  75 0084 2D40 0008 	move.l %d0,8(%fp)
  76 0088 2D41 000C 	move.l %d1,12(%fp)
  77 008c 200E      	move.l %fp,%d0
  78 008e 5080      	addq.l #8,%d0
  79 0090 2040      	move.l %d0,%a0
  80 0092 2D50 FFF8 	move.l (%a0),-8(%fp)
  81 0096 202E FFF8 	move.l -8(%fp),%d0
  82 009a 0280 7FF0 	and.l #2146435072,%d0
  82      0000 
  83 00a0 7214      	moveq #20,%d1
  84 00a2 E2A0      	asr.l %d1,%d0
  85 00a4 74CA      	moveq #-54,%d2
  86 00a6 D480      	add.l %d0,%d2
  87 00a8 2D42 FFFC 	move.l %d2,-4(%fp)
  88 00ac 0CAE FFFF 	cmp.l #-50000,16(%fp)
  88      3CB0 0010 
  89 00b4 6C34      	jge .L2
  90 00b6 2079 0000 	move.l tiny,%a0
  90      0000 
  91 00bc 2279 0000 	move.l tiny+4,%a1
  91      0000 
  92 00c2 202E 0008 	move.l 8(%fp),%d0
  93 00c6 222E 000C 	move.l 12(%fp),%d1
  94 00ca 2F09      	move.l %a1,-(%sp)
  95 00cc 2F08      	move.l %a0,-(%sp)
  96 00ce F21F 5400 	fmove.d (%sp)+,%fp0
  97 00d2 2F01      	move.l %d1,-(%sp)
  98 00d4 2F00      	move.l %d0,-(%sp)
  99 00d6 F21F 5480 	fmove.d (%sp)+,%fp1
 100 00da F200 0423 	fmul.x %fp1,%fp0
 101 00de F227 7400 	fmove.d %fp0,-(%sp)
 102 00e2 201F      	move.l (%sp)+,%d0
 103 00e4 221F      	move.l (%sp)+,%d1
 104 00e6 6000 01F2 	jra .L4
 105               	.L2:
 106 00ea 0CAE 0000 	cmp.l #2047,-4(%fp)
 106      07FF FFFC 
 107 00f2 6628      	jne .L5
 108 00f4 202E 0008 	move.l 8(%fp),%d0
 109 00f8 222E 000C 	move.l 12(%fp),%d1
 110 00fc 2F01      	move.l %d1,-(%sp)
 111 00fe 2F00      	move.l %d0,-(%sp)
 112 0100 F21F 5400 	fmove.d (%sp)+,%fp0
 113 0104 2F01      	move.l %d1,-(%sp)
 114 0106 2F00      	move.l %d0,-(%sp)
 115 0108 F21F 5480 	fmove.d (%sp)+,%fp1
68K GAS   			page 3


 116 010c F200 0422 	fadd.x %fp1,%fp0
 117 0110 F227 7400 	fmove.d %fp0,-(%sp)
 118 0114 201F      	move.l (%sp)+,%d0
 119 0116 221F      	move.l (%sp)+,%d1
 120 0118 6000 01C0 	jra .L4
 121               	.L5:
 122 011c 202E 0010 	move.l 16(%fp),%d0
 123 0120 D1AE FFFC 	add.l %d0,-4(%fp)
 124 0124 0CAE 0000 	cmp.l #2046,-4(%fp)
 124      07FE FFFC 
 125 012c 6F5A      	jle .L6
 126 012e 206E 0008 	move.l 8(%fp),%a0
 127 0132 226E 000C 	move.l 12(%fp),%a1
 128 0136 2039 0000 	move.l huge,%d0
 128      0000 
 129 013c 2239 0000 	move.l huge+4,%d1
 129      0000 
 130 0142 2F09      	move.l %a1,-(%sp)
 131 0144 2F08      	move.l %a0,-(%sp)
 132 0146 2F01      	move.l %d1,-(%sp)
 133 0148 2F00      	move.l %d0,-(%sp)
 134 014a 4EB9 0000 	jsr copysign
 134      0000 
 135 0150 4FEF 0010 	lea (16,%sp),%sp
 136 0154 F227 7400 	fmove.d %fp0,-(%sp)
 137 0158 205F      	move.l (%sp)+,%a0
 138 015a 225F      	move.l (%sp)+,%a1
 139 015c 2039 0000 	move.l huge,%d0
 139      0000 
 140 0162 2239 0000 	move.l huge+4,%d1
 140      0000 
 141 0168 2F09      	move.l %a1,-(%sp)
 142 016a 2F08      	move.l %a0,-(%sp)
 143 016c F21F 5400 	fmove.d (%sp)+,%fp0
 144 0170 2F01      	move.l %d1,-(%sp)
 145 0172 2F00      	move.l %d0,-(%sp)
 146 0174 F21F 5480 	fmove.d (%sp)+,%fp1
 147 0178 F200 0423 	fmul.x %fp1,%fp0
 148 017c F227 7400 	fmove.d %fp0,-(%sp)
 149 0180 201F      	move.l (%sp)+,%d0
 150 0182 221F      	move.l (%sp)+,%d1
 151 0184 6000 0154 	jra .L4
 152               	.L6:
 153 0188 4AAE FFFC 	tst.l -4(%fp)
 154 018c 6F2E      	jle .L7
 155 018e 200E      	move.l %fp,%d0
 156 0190 5080      	addq.l #8,%d0
 157 0192 222E FFF8 	move.l -8(%fp),%d1
 158 0196 0281 800F 	and.l #-2146435073,%d1
 158      FFFF 
 159 019c 206E FFFC 	move.l -4(%fp),%a0
 160 01a0 2408      	move.l %a0,%d2
 161 01a2 7614      	moveq #20,%d3
 162 01a4 E7AA      	lsl.l %d3,%d2
 163 01a6 2042      	move.l %d2,%a0
 164 01a8 2408      	move.l %a0,%d2
 165 01aa 8282      	or.l %d2,%d1
68K GAS   			page 4


 166 01ac 2040      	move.l %d0,%a0
 167 01ae 2081      	move.l %d1,(%a0)
 168 01b0 202E 0008 	move.l 8(%fp),%d0
 169 01b4 222E 000C 	move.l 12(%fp),%d1
 170 01b8 6000 0120 	jra .L4
 171               	.L7:
 172 01bc 70CB      	moveq #-53,%d0
 173 01be B0AE FFFC 	cmp.l -4(%fp),%d0
 174 01c2 6F00 00BE 	jle .L8
 175 01c6 0CAE 0000 	cmp.l #50000,16(%fp)
 175      C350 0010 
 176 01ce 6F5A      	jle .L9
 177 01d0 206E 0008 	move.l 8(%fp),%a0
 178 01d4 226E 000C 	move.l 12(%fp),%a1
 179 01d8 2039 0000 	move.l huge,%d0
 179      0000 
 180 01de 2239 0000 	move.l huge+4,%d1
 180      0000 
 181 01e4 2F09      	move.l %a1,-(%sp)
 182 01e6 2F08      	move.l %a0,-(%sp)
 183 01e8 2F01      	move.l %d1,-(%sp)
 184 01ea 2F00      	move.l %d0,-(%sp)
 185 01ec 4EB9 0000 	jsr copysign
 185      0000 
 186 01f2 4FEF 0010 	lea (16,%sp),%sp
 187 01f6 F227 7400 	fmove.d %fp0,-(%sp)
 188 01fa 205F      	move.l (%sp)+,%a0
 189 01fc 225F      	move.l (%sp)+,%a1
 190 01fe 2039 0000 	move.l huge,%d0
 190      0000 
 191 0204 2239 0000 	move.l huge+4,%d1
 191      0000 
 192 020a 2F09      	move.l %a1,-(%sp)
 193 020c 2F08      	move.l %a0,-(%sp)
 194 020e F21F 5400 	fmove.d (%sp)+,%fp0
 195 0212 2F01      	move.l %d1,-(%sp)
 196 0214 2F00      	move.l %d0,-(%sp)
 197 0216 F21F 5480 	fmove.d (%sp)+,%fp1
 198 021a F200 0423 	fmul.x %fp1,%fp0
 199 021e F227 7400 	fmove.d %fp0,-(%sp)
 200 0222 201F      	move.l (%sp)+,%d0
 201 0224 221F      	move.l (%sp)+,%d1
 202 0226 6000 00B2 	jra .L4
 203               	.L9:
 204 022a 206E 0008 	move.l 8(%fp),%a0
 205 022e 226E 000C 	move.l 12(%fp),%a1
 206 0232 2039 0000 	move.l tiny,%d0
 206      0000 
 207 0238 2239 0000 	move.l tiny+4,%d1
 207      0000 
 208 023e 2F09      	move.l %a1,-(%sp)
 209 0240 2F08      	move.l %a0,-(%sp)
 210 0242 2F01      	move.l %d1,-(%sp)
 211 0244 2F00      	move.l %d0,-(%sp)
 212 0246 4EB9 0000 	jsr copysign
 212      0000 
 213 024c 4FEF 0010 	lea (16,%sp),%sp
68K GAS   			page 5


 214 0250 F227 7400 	fmove.d %fp0,-(%sp)
 215 0254 205F      	move.l (%sp)+,%a0
 216 0256 225F      	move.l (%sp)+,%a1
 217 0258 2039 0000 	move.l tiny,%d0
 217      0000 
 218 025e 2239 0000 	move.l tiny+4,%d1
 218      0000 
 219 0264 2F09      	move.l %a1,-(%sp)
 220 0266 2F08      	move.l %a0,-(%sp)
 221 0268 F21F 5400 	fmove.d (%sp)+,%fp0
 222 026c 2F01      	move.l %d1,-(%sp)
 223 026e 2F00      	move.l %d0,-(%sp)
 224 0270 F21F 5480 	fmove.d (%sp)+,%fp1
 225 0274 F200 0423 	fmul.x %fp1,%fp0
 226 0278 F227 7400 	fmove.d %fp0,-(%sp)
 227 027c 201F      	move.l (%sp)+,%d0
 228 027e 221F      	move.l (%sp)+,%d1
 229 0280 6058      	jra .L4
 230               	.L8:
 231 0282 7036      	moveq #54,%d0
 232 0284 D1AE FFFC 	add.l %d0,-4(%fp)
 233 0288 200E      	move.l %fp,%d0
 234 028a 5080      	addq.l #8,%d0
 235 028c 222E FFF8 	move.l -8(%fp),%d1
 236 0290 0281 800F 	and.l #-2146435073,%d1
 236      FFFF 
 237 0296 206E FFFC 	move.l -4(%fp),%a0
 238 029a 2408      	move.l %a0,%d2
 239 029c 7614      	moveq #20,%d3
 240 029e E7AA      	lsl.l %d3,%d2
 241 02a0 2042      	move.l %d2,%a0
 242 02a2 2408      	move.l %a0,%d2
 243 02a4 8282      	or.l %d2,%d1
 244 02a6 2040      	move.l %d0,%a0
 245 02a8 2081      	move.l %d1,(%a0)
 246 02aa 206E 0008 	move.l 8(%fp),%a0
 247 02ae 226E 000C 	move.l 12(%fp),%a1
 248 02b2 2039 0000 	move.l twom54,%d0
 248      0000 
 249 02b8 2239 0000 	move.l twom54+4,%d1
 249      0000 
 250 02be 2F09      	move.l %a1,-(%sp)
 251 02c0 2F08      	move.l %a0,-(%sp)
 252 02c2 F21F 5400 	fmove.d (%sp)+,%fp0
 253 02c6 2F01      	move.l %d1,-(%sp)
 254 02c8 2F00      	move.l %d0,-(%sp)
 255 02ca F21F 5480 	fmove.d (%sp)+,%fp1
 256 02ce F200 0423 	fmul.x %fp1,%fp0
 257 02d2 F227 7400 	fmove.d %fp0,-(%sp)
 258 02d6 201F      	move.l (%sp)+,%d0
 259 02d8 221F      	move.l (%sp)+,%d1
 260               	.L4:
 261 02da 2F01      	move.l %d1,-(%sp)
 262 02dc 2F00      	move.l %d0,-(%sp)
 263 02de F21F 5400 	fmove.d (%sp)+,%fp0
 264 02e2 242E FFEC 	move.l -20(%fp),%d2
 265 02e6 262E FFF0 	move.l -16(%fp),%d3
68K GAS   			page 6


 266 02ea 4E5E      	unlk %fp
 267 02ec 4E75      	rts
 269               	.ident"GCC: (GNU) 4.5.1"
 270               	.section.note.GNU-stack,"",@progbits
68K GAS   			page 7


DEFINED SYMBOLS
                            *ABS*:00000000 s_scalbn.c
    {standard input}:7      .rodata:00000000 two54
    {standard input}:13     .rodata:00000008 twom54
    {standard input}:19     .rodata:00000010 huge
    {standard input}:25     .rodata:00000018 tiny
    {standard input}:32     .text:00000000 scalbn

UNDEFINED SYMBOLS
copysign
