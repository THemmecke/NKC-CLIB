68K GAS   			page 1


   1               	
   2               	.file"fget.c"
   3               	.text
   4               	.align2
   5               	.globlfgetc
   7               	fgetc:
   8 0000 4E56 FFFC 	link.w %fp,#-4
   9 0004 202E 0008 	move.l 8(%fp),%d0
  10 0008 2040      	move.l %d0,%a0
  11 000a 3028 001A 	move.w 26(%a0),%d0
  12 000e 0C40 444C 	cmp.w #17484,%d0
  13 0012 6704      	jeq .L2
  14 0014 70FF      	moveq #-1,%d0
  15 0016 6042      	jra .L3
  16               	.L2:
  17 0018 202E 0008 	move.l 8(%fp),%d0
  18 001c 2040      	move.l %d0,%a0
  19 001e 2028 0004 	move.l 4(%a0),%d0
  20 0022 7201      	moveq #1,%d1
  21 0024 C081      	and.l %d1,%d0
  22 0026 4A80      	tst.l %d0
  23 0028 661C      	jne .L4
  24 002a 202E 0008 	move.l 8(%fp),%d0
  25 002e 2040      	move.l %d0,%a0
  26 0030 2028 0004 	move.l 4(%a0),%d0
  27 0034 7210      	moveq #16,%d1
  28 0036 8280      	or.l %d0,%d1
  29 0038 202E 0008 	move.l 8(%fp),%d0
  30 003c 2040      	move.l %d0,%a0
  31 003e 2141 0004 	move.l %d1,4(%a0)
  32 0042 70FF      	moveq #-1,%d0
  33 0044 6014      	jra .L3
  34               	.L4:
  35 0046 2F2E 0008 	move.l 8(%fp),-(%sp)
  36 004a 4EB9 0000 	jsr _basegetc
  36      0000 
  37 0050 588F      	addq.l #4,%sp
  38 0052 2D40 FFFC 	move.l %d0,-4(%fp)
  39 0056 202E FFFC 	move.l -4(%fp),%d0
  40               	.L3:
  41 005a 4E5E      	unlk %fp
  42 005c 4E75      	rts
  44               	.align2
  45               	.globlgetc
  47               	getc:
  48 005e 4E56 0000 	link.w %fp,#0
  49 0062 2F2E 0008 	move.l 8(%fp),-(%sp)
  50 0066 4EBA FF98 	jsr fgetc
  51 006a 588F      	addq.l #4,%sp
  52 006c 4E5E      	unlk %fp
  53 006e 4E75      	rts
  55               	.align2
  56               	.globlgetchar
  58               	getchar:
  59 0070 4E56 0000 	link.w %fp,#0
  60 0074 203C 0000 	move.l #_pstreams,%d0
  60      0000 
68K GAS   			page 2


  61 007a 2040      	move.l %d0,%a0
  62 007c 2010      	move.l (%a0),%d0
  63 007e 2F00      	move.l %d0,-(%sp)
  64 0080 4EBA FF7E 	jsr fgetc
  65 0084 588F      	addq.l #4,%sp
  66 0086 4E5E      	unlk %fp
  67 0088 4E75      	rts
  69               	.ident"GCC: (GNU) 4.5.1"
  70               	.section.note.GNU-stack,"",@progbits
68K GAS   			page 3


DEFINED SYMBOLS
                            *ABS*:00000000 fget.c
    {standard input}:7      .text:00000000 fgetc
    {standard input}:47     .text:0000005e getc
    {standard input}:58     .text:00000070 getchar

UNDEFINED SYMBOLS
_basegetc
_pstreams
