68K GAS   			page 1


   1               	
   2               	.file"writebuf.c"
   3               	.text
   4               	.align2
   5               	.globl_writebuf
   7               	_writebuf:
   8 0000 4E56 0000 	link.w %fp,#0
   9 0004 202E 0008 	move.l 8(%fp),%d0
  10 0008 2040      	move.l %d0,%a0
  11 000a 2028 0004 	move.l 4(%a0),%d0
  12 000e 727F      	moveq #127,%d1
  13 0010 4601      	not.b %d1
  14 0012 C081      	and.l %d1,%d0
  15 0014 4A80      	tst.l %d0
  16 0016 6638      	jne .L2
  17 0018 202E 0008 	move.l 8(%fp),%d0
  18 001c 2040      	move.l %d0,%a0
  19 001e 2028 0004 	move.l 4(%a0),%d0
  20 0022 0280 0000 	and.l #256,%d0
  20      0100 
  21 0028 4A80      	tst.l %d0
  22 002a 6738      	jeq .L3
  23 002c 202E 0008 	move.l 8(%fp),%d0
  24 0030 2240      	move.l %d0,%a1
  25 0032 2229 0012 	move.l 18(%a1),%d1
  26 0036 202E 0008 	move.l 8(%fp),%d0
  27 003a 2240      	move.l %d0,%a1
  28 003c 2069 000E 	move.l 14(%a1),%a0
  29 0040 202E 0008 	move.l 8(%fp),%d0
  30 0044 2240      	move.l %d0,%a1
  31 0046 2029 000A 	move.l 10(%a1),%d0
  32 004a D088      	add.l %a0,%d0
  33 004c B081      	cmp.l %d1,%d0
  34 004e 6214      	jhi .L3
  35               	.L2:
  36 0050 2F2E 0008 	move.l 8(%fp),-(%sp)
  37 0054 4EB9 0000 	jsr fflush
  37      0000 
  38 005a 588F      	addq.l #4,%sp
  39 005c 4A80      	tst.l %d0
  40 005e 671A      	jeq .L8
  41 0060 70FF      	moveq #-1,%d0
  42 0062 6050      	jra .L5
  43               	.L3:
  44 0064 202E 0008 	move.l 8(%fp),%d0
  45 0068 2040      	move.l %d0,%a0
  46 006a 2028 0004 	move.l 4(%a0),%d0
  47 006e 0280 0000 	and.l #256,%d0
  47      0100 
  48 0074 4A80      	tst.l %d0
  49 0076 663A      	jne .L7
  50 0078 6002      	jra .L6
  51               	.L8:
  52 007a 4E71      	nop
  53               	.L6:
  54 007c 202E 0008 	move.l 8(%fp),%d0
  55 0080 2240      	move.l %d0,%a1
68K GAS   			page 2


  56 0082 2029 0004 	move.l 4(%a1),%d0
  57 0086 2200      	move.l %d0,%d1
  58 0088 0241 FE7F 	and.w #65151,%d1
  59 008c 202E 0008 	move.l 8(%fp),%d0
  60 0090 2040      	move.l %d0,%a0
  61 0092 2141 0004 	move.l %d1,4(%a0)
  62 0096 202E 0008 	move.l 8(%fp),%d0
  63 009a 2240      	move.l %d0,%a1
  64 009c 4291      	clr.l (%a1)
  65 009e 202E 0008 	move.l 8(%fp),%d0
  66 00a2 2040      	move.l %d0,%a0
  67 00a4 2228 000E 	move.l 14(%a0),%d1
  68 00a8 202E 0008 	move.l 8(%fp),%d0
  69 00ac 2240      	move.l %d0,%a1
  70 00ae 2341 0012 	move.l %d1,18(%a1)
  71               	.L7:
  72 00b2 4280      	clr.l %d0
  73               	.L5:
  74 00b4 4E5E      	unlk %fp
  75 00b6 4E75      	rts
  77               	.ident"GCC: (GNU) 4.5.1"
  78               	.section.note.GNU-stack,"",@progbits
68K GAS   			page 3


DEFINED SYMBOLS
                            *ABS*:00000000 writebuf.c
    {standard input}:7      .text:00000000 _writebuf

UNDEFINED SYMBOLS
fflush
