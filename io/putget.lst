68K GAS   			page 1


   1               	
   2               	.file"putget.c"
   3               	.text
   4               	.align2
   5               	.globl_baseputc
   7               	_baseputc:
   8 0000 4E56 FFFC 	link.w %fp,#-4
   9 0004 202E 0008 	move.l 8(%fp),%d0
  10 0008 1000      	move.b %d0,%d0
  11 000a 1D40 FFFF 	move.b %d0,-1(%fp)
  12 000e 202E 000C 	move.l 12(%fp),%d0
  13 0012 2040      	move.l %d0,%a0
  14 0014 2028 0004 	move.l 4(%a0),%d0
  15 0018 7240      	moveq #64,%d1
  16 001a C081      	and.l %d1,%d0
  17 001c 4A80      	tst.l %d0
  18 001e 6622      	jne .L2
  19 0020 700A      	moveq #10,%d0
  20 0022 B0AE 0008 	cmp.l 8(%fp),%d0
  21 0026 661A      	jne .L2
  22 0028 2F2E 000C 	move.l 12(%fp),-(%sp)
  23 002c 4878 000D 	pea 13.w
  24 0030 4EBA FFCE 	jsr _baseputc
  25 0034 508F      	addq.l #8,%sp
  26 0036 72FF      	moveq #-1,%d1
  27 0038 B280      	cmp.l %d0,%d1
  28 003a 6606      	jne .L2
  29 003c 70FF      	moveq #-1,%d0
  30 003e 6000 0102 	jra .L3
  31               	.L2:
  32 0042 202E 000C 	move.l 12(%fp),%d0
  33 0046 2040      	move.l %d0,%a0
  34 0048 2028 000A 	move.l 10(%a0),%d0
  35 004c 4A80      	tst.l %d0
  36 004e 6700 00AC 	jeq .L4
  37 0052 2F2E 000C 	move.l 12(%fp),-(%sp)
  38 0056 4EB9 0000 	jsr _writebuf
  38      0000 
  39 005c 588F      	addq.l #4,%sp
  40 005e 4A80      	tst.l %d0
  41 0060 671E      	jeq .L5
  42 0062 202E 000C 	move.l 12(%fp),%d0
  43 0066 2040      	move.l %d0,%a0
  44 0068 2028 0004 	move.l 4(%a0),%d0
  45 006c 7210      	moveq #16,%d1
  46 006e 8280      	or.l %d0,%d1
  47 0070 202E 000C 	move.l 12(%fp),%d0
  48 0074 2040      	move.l %d0,%a0
  49 0076 2141 0004 	move.l %d1,4(%a0)
  50 007a 70FF      	moveq #-1,%d0
  51 007c 6000 00C4 	jra .L3
  52               	.L5:
  53 0080 202E 000C 	move.l 12(%fp),%d0
  54 0084 2040      	move.l %d0,%a0
  55 0086 2028 0004 	move.l 4(%a0),%d0
  56 008a 2200      	move.l %d0,%d1
  57 008c 0041 0100 	or.w #256,%d1
68K GAS   			page 2


  58 0090 202E 000C 	move.l 12(%fp),%d0
  59 0094 2040      	move.l %d0,%a0
  60 0096 2141 0004 	move.l %d1,4(%a0)
  61 009a 202E 000C 	move.l 12(%fp),%d0
  62 009e 2040      	move.l %d0,%a0
  63 00a0 2028 0012 	move.l 18(%a0),%d0
  64 00a4 222E 0008 	move.l 8(%fp),%d1
  65 00a8 1201      	move.b %d1,%d1
  66 00aa 2040      	move.l %d0,%a0
  67 00ac 1081      	move.b %d1,(%a0)
  68 00ae 2200      	move.l %d0,%d1
  69 00b0 5281      	addq.l #1,%d1
  70 00b2 202E 000C 	move.l 12(%fp),%d0
  71 00b6 2040      	move.l %d0,%a0
  72 00b8 2141 0012 	move.l %d1,18(%a0)
  73 00bc 202E 000C 	move.l 12(%fp),%d0
  74 00c0 2040      	move.l %d0,%a0
  75 00c2 2010      	move.l (%a0),%d0
  76 00c4 2200      	move.l %d0,%d1
  77 00c6 5281      	addq.l #1,%d1
  78 00c8 202E 000C 	move.l 12(%fp),%d0
  79 00cc 2040      	move.l %d0,%a0
  80 00ce 2081      	move.l %d1,(%a0)
  81 00d0 700A      	moveq #10,%d0
  82 00d2 B0AE 0008 	cmp.l 8(%fp),%d0
  83 00d6 661E      	jne .L6
  84 00d8 202E 000C 	move.l 12(%fp),%d0
  85 00dc 2040      	move.l %d0,%a0
  86 00de 2028 0004 	move.l 4(%a0),%d0
  87 00e2 7208      	moveq #8,%d1
  88 00e4 C081      	and.l %d1,%d0
  89 00e6 4A80      	tst.l %d0
  90 00e8 670C      	jeq .L6
  91 00ea 2F2E 000C 	move.l 12(%fp),-(%sp)
  92 00ee 4EB9 0000 	jsr fflush
  92      0000 
  93 00f4 588F      	addq.l #4,%sp
  94               	.L6:
  95 00f6 202E 0008 	move.l 8(%fp),%d0
  96 00fa 6046      	jra .L3
  97               	.L4:
  98 00fc 202E 000C 	move.l 12(%fp),%d0
  99 0100 2040      	move.l %d0,%a0
 100 0102 1028 0008 	move.b 8(%a0),%d0
 101 0106 49C0      	extb.l %d0
 102 0108 4878 0001 	pea 1.w
 103 010c 220E      	move.l %fp,%d1
 104 010e 5381      	subq.l #1,%d1
 105 0110 2F01      	move.l %d1,-(%sp)
 106 0112 2F00      	move.l %d0,-(%sp)
 107 0114 4EB9 0000 	jsr _ll_write
 107      0000 
 108 011a 4FEF 000C 	lea (12,%sp),%sp
 109 011e 4A80      	tst.l %d0
 110 0120 671C      	jeq .L7
 111 0122 202E 000C 	move.l 12(%fp),%d0
 112 0126 2040      	move.l %d0,%a0
68K GAS   			page 3


 113 0128 2028 0004 	move.l 4(%a0),%d0
 114 012c 7210      	moveq #16,%d1
 115 012e 8280      	or.l %d0,%d1
 116 0130 202E 000C 	move.l 12(%fp),%d0
 117 0134 2040      	move.l %d0,%a0
 118 0136 2141 0004 	move.l %d1,4(%a0)
 119 013a 70FF      	moveq #-1,%d0
 120 013c 6004      	jra .L3
 121               	.L7:
 122 013e 202E 0008 	move.l 8(%fp),%d0
 123               	.L3:
 124 0142 4E5E      	unlk %fp
 125 0144 4E75      	rts
 127               	.align2
 128               	.globl_basegetc
 130               	_basegetc:
 131 0146 4E56 FFFC 	link.w %fp,#-4
 132 014a 202E 0008 	move.l 8(%fp),%d0
 133 014e 2040      	move.l %d0,%a0
 134 0150 2028 000A 	move.l 10(%a0),%d0
 135 0154 4A80      	tst.l %d0
 136 0156 6700 0186 	jeq .L9
 137 015a 2F2E 0008 	move.l 8(%fp),-(%sp)
 138 015e 4EB9 0000 	jsr _readbuf
 138      0000 
 139 0164 588F      	addq.l #4,%sp
 140 0166 4A80      	tst.l %d0
 141 0168 6706      	jeq .L10
 142 016a 70FF      	moveq #-1,%d0
 143 016c 6000 01E6 	jra .L11
 144               	.L10:
 145 0170 202E 0008 	move.l 8(%fp),%d0
 146 0174 2240      	move.l %d0,%a1
 147 0176 2029 0004 	move.l 4(%a1),%d0
 148 017a 7240      	moveq #64,%d1
 149 017c C081      	and.l %d1,%d0
 150 017e 4A80      	tst.l %d0
 151 0180 6600 0122 	jne .L12
 152 0184 202E 0008 	move.l 8(%fp),%d0
 153 0188 2040      	move.l %d0,%a0
 154 018a 2028 0012 	move.l 18(%a0),%d0
 155 018e 2240      	move.l %d0,%a1
 156 0190 1011      	move.b (%a1),%d0
 157 0192 0C00 000D 	cmp.b #13,%d0
 158 0196 664C      	jne .L13
 159 0198 202E 0008 	move.l 8(%fp),%d0
 160 019c 2040      	move.l %d0,%a0
 161 019e 2028 0004 	move.l 4(%a0),%d0
 162 01a2 2200      	move.l %d0,%d1
 163 01a4 0041 0400 	or.w #1024,%d1
 164 01a8 202E 0008 	move.l 8(%fp),%d0
 165 01ac 2240      	move.l %d0,%a1
 166 01ae 2341 0004 	move.l %d1,4(%a1)
 167 01b2 202E 0008 	move.l 8(%fp),%d0
 168 01b6 2040      	move.l %d0,%a0
 169 01b8 2010      	move.l (%a0),%d0
 170 01ba 2200      	move.l %d0,%d1
68K GAS   			page 4


 171 01bc 5381      	subq.l #1,%d1
 172 01be 202E 0008 	move.l 8(%fp),%d0
 173 01c2 2240      	move.l %d0,%a1
 174 01c4 2281      	move.l %d1,(%a1)
 175 01c6 202E 0008 	move.l 8(%fp),%d0
 176 01ca 2040      	move.l %d0,%a0
 177 01cc 2028 0012 	move.l 18(%a0),%d0
 178 01d0 2200      	move.l %d0,%d1
 179 01d2 5281      	addq.l #1,%d1
 180 01d4 202E 0008 	move.l 8(%fp),%d0
 181 01d8 2240      	move.l %d0,%a1
 182 01da 2341 0012 	move.l %d1,18(%a1)
 183 01de 700A      	moveq #10,%d0
 184 01e0 6000 0172 	jra .L11
 185               	.L13:
 186 01e4 202E 0008 	move.l 8(%fp),%d0
 187 01e8 2040      	move.l %d0,%a0
 188 01ea 2028 0012 	move.l 18(%a0),%d0
 189 01ee 2240      	move.l %d0,%a1
 190 01f0 1011      	move.b (%a1),%d0
 191 01f2 0C00 000A 	cmp.b #10,%d0
 192 01f6 6668      	jne .L14
 193 01f8 202E 0008 	move.l 8(%fp),%d0
 194 01fc 2040      	move.l %d0,%a0
 195 01fe 2028 0004 	move.l 4(%a0),%d0
 196 0202 0280 0000 	and.l #1024,%d0
 196      0400 
 197 0208 4A80      	tst.l %d0
 198 020a 6754      	jeq .L14
 199 020c 202E 0008 	move.l 8(%fp),%d0
 200 0210 2240      	move.l %d0,%a1
 201 0212 2011      	move.l (%a1),%d0
 202 0214 2200      	move.l %d0,%d1
 203 0216 5381      	subq.l #1,%d1
 204 0218 202E 0008 	move.l 8(%fp),%d0
 205 021c 2040      	move.l %d0,%a0
 206 021e 2081      	move.l %d1,(%a0)
 207 0220 202E 0008 	move.l 8(%fp),%d0
 208 0224 2240      	move.l %d0,%a1
 209 0226 2029 0012 	move.l 18(%a1),%d0
 210 022a 2200      	move.l %d0,%d1
 211 022c 5281      	addq.l #1,%d1
 212 022e 202E 0008 	move.l 8(%fp),%d0
 213 0232 2040      	move.l %d0,%a0
 214 0234 2141 0012 	move.l %d1,18(%a0)
 215 0238 202E 0008 	move.l 8(%fp),%d0
 216 023c 2240      	move.l %d0,%a1
 217 023e 2029 0004 	move.l 4(%a1),%d0
 218 0242 2200      	move.l %d0,%d1
 219 0244 0241 FBFF 	and.w #64511,%d1
 220 0248 202E 0008 	move.l 8(%fp),%d0
 221 024c 2040      	move.l %d0,%a0
 222 024e 2141 0004 	move.l %d1,4(%a0)
 223 0252 2F2E 0008 	move.l 8(%fp),-(%sp)
 224 0256 4EBA FEEE 	jsr _basegetc
 225 025a 588F      	addq.l #4,%sp
 226 025c 6000 00F6 	jra .L11
68K GAS   			page 5


 227               	.L14:
 228 0260 202E 0008 	move.l 8(%fp),%d0
 229 0264 2240      	move.l %d0,%a1
 230 0266 2029 0012 	move.l 18(%a1),%d0
 231 026a 2040      	move.l %d0,%a0
 232 026c 1010      	move.b (%a0),%d0
 233 026e 4A00      	tst.b %d0
 234 0270 6632      	jne .L12
 235 0272 202E 0008 	move.l 8(%fp),%d0
 236 0276 2240      	move.l %d0,%a1
 237 0278 2029 0004 	move.l 4(%a1),%d0
 238 027c 7220      	moveq #32,%d1
 239 027e 8280      	or.l %d0,%d1
 240 0280 202E 0008 	move.l 8(%fp),%d0
 241 0284 2040      	move.l %d0,%a0
 242 0286 2141 0004 	move.l %d1,4(%a0)
 243 028a 202E 0008 	move.l 8(%fp),%d0
 244 028e 2240      	move.l %d0,%a1
 245 0290 2011      	move.l (%a1),%d0
 246 0292 2200      	move.l %d0,%d1
 247 0294 5381      	subq.l #1,%d1
 248 0296 202E 0008 	move.l 8(%fp),%d0
 249 029a 2040      	move.l %d0,%a0
 250 029c 2081      	move.l %d1,(%a0)
 251 029e 70FF      	moveq #-1,%d0
 252 02a0 6000 00B2 	jra .L11
 253               	.L12:
 254 02a4 202E 0008 	move.l 8(%fp),%d0
 255 02a8 2240      	move.l %d0,%a1
 256 02aa 2011      	move.l (%a1),%d0
 257 02ac 2200      	move.l %d0,%d1
 258 02ae 5381      	subq.l #1,%d1
 259 02b0 202E 0008 	move.l 8(%fp),%d0
 260 02b4 2040      	move.l %d0,%a0
 261 02b6 2081      	move.l %d1,(%a0)
 262 02b8 202E 0008 	move.l 8(%fp),%d0
 263 02bc 2240      	move.l %d0,%a1
 264 02be 2229 0012 	move.l 18(%a1),%d1
 265 02c2 2041      	move.l %d1,%a0
 266 02c4 1010      	move.b (%a0),%d0
 267 02c6 1000      	move.b %d0,%d0
 268 02c8 0280 0000 	and.l #255,%d0
 268      00FF 
 269 02ce 2041      	move.l %d1,%a0
 270 02d0 5288      	addq.l #1,%a0
 271 02d2 222E 0008 	move.l 8(%fp),%d1
 272 02d6 2241      	move.l %d1,%a1
 273 02d8 2348 0012 	move.l %a0,18(%a1)
 274 02dc 6076      	jra .L11
 275               	.L9:
 276 02de 202E 0008 	move.l 8(%fp),%d0
 277 02e2 2040      	move.l %d0,%a0
 278 02e4 1028 0009 	move.b 9(%a0),%d0
 279 02e8 4A00      	tst.b %d0
 280 02ea 671A      	jeq .L15
 281 02ec 202E 0008 	move.l 8(%fp),%d0
 282 02f0 2240      	move.l %d0,%a1
68K GAS   			page 6


 283 02f2 1029 0009 	move.b 9(%a1),%d0
 284 02f6 1D40 FFFF 	move.b %d0,-1(%fp)
 285 02fa 202E 0008 	move.l 8(%fp),%d0
 286 02fe 2040      	move.l %d0,%a0
 287 0300 4228 0009 	clr.b 9(%a0)
 288 0304 6042      	jra .L16
 289               	.L15:
 290 0306 202E 0008 	move.l 8(%fp),%d0
 291 030a 2240      	move.l %d0,%a1
 292 030c 1029 0008 	move.b 8(%a1),%d0
 293 0310 49C0      	extb.l %d0
 294 0312 4878 0001 	pea 1.w
 295 0316 220E      	move.l %fp,%d1
 296 0318 5381      	subq.l #1,%d1
 297 031a 2F01      	move.l %d1,-(%sp)
 298 031c 2F00      	move.l %d0,-(%sp)
 299 031e 4EB9 0000 	jsr _ll_read
 299      0000 
 300 0324 4FEF 000C 	lea (12,%sp),%sp
 301 0328 4A80      	tst.l %d0
 302 032a 661C      	jne .L16
 303 032c 202E 0008 	move.l 8(%fp),%d0
 304 0330 2040      	move.l %d0,%a0
 305 0332 2028 0004 	move.l 4(%a0),%d0
 306 0336 7220      	moveq #32,%d1
 307 0338 8280      	or.l %d0,%d1
 308 033a 202E 0008 	move.l 8(%fp),%d0
 309 033e 2240      	move.l %d0,%a1
 310 0340 2341 0004 	move.l %d1,4(%a1)
 311 0344 70FF      	moveq #-1,%d0
 312 0346 600C      	jra .L11
 313               	.L16:
 314 0348 102E FFFF 	move.b -1(%fp),%d0
 315 034c 1000      	move.b %d0,%d0
 316 034e 0280 0000 	and.l #255,%d0
 316      00FF 
 317               	.L11:
 318 0354 4E5E      	unlk %fp
 319 0356 4E75      	rts
 321               	.ident"GCC: (GNU) 4.5.1"
 322               	.section.note.GNU-stack,"",@progbits
68K GAS   			page 7


DEFINED SYMBOLS
                            *ABS*:00000000 putget.c
    {standard input}:7      .text:00000000 _baseputc
    {standard input}:130    .text:00000146 _basegetc

UNDEFINED SYMBOLS
_writebuf
fflush
_ll_write
_readbuf
_ll_read
