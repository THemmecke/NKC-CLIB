68K GAS   			page 1


   1               	
   2               	.file"fwrite.c"
   3               	.text
   4               	.align2
   5               	.globlfwrite
   7               	fwrite:
   8 0000 4E56 FFF4 	link.w %fp,#-12
   9 0004 202E 000C 	move.l 12(%fp),%d0
  10 0008 4C2E 0800 	muls.l 16(%fp),%d0
  10      0010 
  11 000e 2D40 FFF8 	move.l %d0,-8(%fp)
  12 0012 202E 0014 	move.l 20(%fp),%d0
  13 0016 2040      	move.l %d0,%a0
  14 0018 3028 001A 	move.w 26(%a0),%d0
  15 001c 0C40 444C 	cmp.w #17484,%d0
  16 0020 6706      	jeq .L2
  17 0022 4280      	clr.l %d0
  18 0024 6000 0082 	jra .L3
  19               	.L2:
  20 0028 202E 0014 	move.l 20(%fp),%d0
  21 002c 2040      	move.l %d0,%a0
  22 002e 2028 0004 	move.l 4(%a0),%d0
  23 0032 7202      	moveq #2,%d1
  24 0034 C081      	and.l %d1,%d0
  25 0036 4A80      	tst.l %d0
  26 0038 661C      	jne .L4
  27 003a 202E 0014 	move.l 20(%fp),%d0
  28 003e 2040      	move.l %d0,%a0
  29 0040 2028 0004 	move.l 4(%a0),%d0
  30 0044 7210      	moveq #16,%d1
  31 0046 8280      	or.l %d0,%d1
  32 0048 202E 0014 	move.l 20(%fp),%d0
  33 004c 2040      	move.l %d0,%a0
  34 004e 2141 0004 	move.l %d1,4(%a0)
  35 0052 4280      	clr.l %d0
  36 0054 6052      	jra .L3
  37               	.L4:
  38 0056 42AE FFFC 	clr.l -4(%fp)
  39 005a 603E      	jra .L5
  40               	.L7:
  41 005c 202E 0008 	move.l 8(%fp),%d0
  42 0060 2040      	move.l %d0,%a0
  43 0062 1010      	move.b (%a0),%d0
  44 0064 1000      	move.b %d0,%d0
  45 0066 0280 0000 	and.l #255,%d0
  45      00FF 
  46 006c 52AE 0008 	addq.l #1,8(%fp)
  47 0070 2F2E 0014 	move.l 20(%fp),-(%sp)
  48 0074 2F00      	move.l %d0,-(%sp)
  49 0076 4EB9 0000 	jsr _baseputc
  49      0000 
  50 007c 508F      	addq.l #8,%sp
  51 007e 2D40 FFF4 	move.l %d0,-12(%fp)
  52 0082 70FF      	moveq #-1,%d0
  53 0084 B0AE FFF4 	cmp.l -12(%fp),%d0
  54 0088 660C      	jne .L6
  55 008a 202E FFFC 	move.l -4(%fp),%d0
68K GAS   			page 2


  56 008e 4C6E 0001 	divul.l 12(%fp),%d1:%d0
  56      000C 
  57 0094 6012      	jra .L3
  58               	.L6:
  59 0096 52AE FFFC 	addq.l #1,-4(%fp)
  60               	.L5:
  61 009a 222E FFFC 	move.l -4(%fp),%d1
  62 009e B2AE FFF8 	cmp.l -8(%fp),%d1
  63 00a2 6DB8      	jlt .L7
  64 00a4 202E 0010 	move.l 16(%fp),%d0
  65               	.L3:
  66 00a8 4E5E      	unlk %fp
  67 00aa 4E75      	rts
  69               	.ident"GCC: (GNU) 4.5.1"
  70               	.section.note.GNU-stack,"",@progbits
68K GAS   			page 3


DEFINED SYMBOLS
                            *ABS*:00000000 fwrite.c
    {standard input}:7      .text:00000000 fwrite

UNDEFINED SYMBOLS
_baseputc
