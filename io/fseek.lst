68K GAS   			page 1


   1               	
   2               	.file"fseek.c"
   3               	.text
   4               	.align2
   5               	.globlfseek
   7               	fseek:
   8 0000 4E56 0000 	link.w %fp,#0
   9 0004 202E 0008 	move.l 8(%fp),%d0
  10 0008 2040      	move.l %d0,%a0
  11 000a 3028 001A 	move.w 26(%a0),%d0
  12 000e 0C40 444C 	cmp.w #17484,%d0
  13 0012 6706      	jeq .L2
  14 0014 70FF      	moveq #-1,%d0
  15 0016 6000 0084 	jra .L3
  16               	.L2:
  17 001a 202E 0010 	move.l 16(%fp),%d0
  18 001e 4281      	clr.l %d1
  19 0020 D081      	add.l %d1,%d0
  20 0022 7202      	moveq #2,%d1
  21 0024 B280      	cmp.l %d0,%d1
  22 0026 6572      	jcs .L4
  23 0028 2F2E 0008 	move.l 8(%fp),-(%sp)
  24 002c 4EB9 0000 	jsr fflush
  24      0000 
  25 0032 588F      	addq.l #4,%sp
  26 0034 4A80      	tst.l %d0
  27 0036 671C      	jeq .L6
  28 0038 202E 0008 	move.l 8(%fp),%d0
  29 003c 2040      	move.l %d0,%a0
  30 003e 2028 0004 	move.l 4(%a0),%d0
  31 0042 7210      	moveq #16,%d1
  32 0044 8280      	or.l %d0,%d1
  33 0046 202E 0008 	move.l 8(%fp),%d0
  34 004a 2040      	move.l %d0,%a0
  35 004c 2141 0004 	move.l %d1,4(%a0)
  36 0050 70FF      	moveq #-1,%d0
  37 0052 6048      	jra .L3
  38               	.L6:
  39 0054 222E 000C 	move.l 12(%fp),%d1
  40 0058 202E 0008 	move.l 8(%fp),%d0
  41 005c 2040      	move.l %d0,%a0
  42 005e 1028 0008 	move.b 8(%a0),%d0
  43 0062 49C0      	extb.l %d0
  44 0064 2F2E 0010 	move.l 16(%fp),-(%sp)
  45 0068 2F01      	move.l %d1,-(%sp)
  46 006a 2F00      	move.l %d0,-(%sp)
  47 006c 4EB9 0000 	jsr _ll_seek
  47      0000 
  48 0072 4FEF 000C 	lea (12,%sp),%sp
  49 0076 4A80      	tst.l %d0
  50 0078 671C      	jeq .L7
  51 007a 202E 0008 	move.l 8(%fp),%d0
  52 007e 2040      	move.l %d0,%a0
  53 0080 2028 0004 	move.l 4(%a0),%d0
  54 0084 7210      	moveq #16,%d1
  55 0086 8280      	or.l %d0,%d1
  56 0088 202E 0008 	move.l 8(%fp),%d0
68K GAS   			page 2


  57 008c 2040      	move.l %d0,%a0
  58 008e 2141 0004 	move.l %d1,4(%a0)
  59 0092 70FF      	moveq #-1,%d0
  60 0094 6006      	jra .L3
  61               	.L7:
  62 0096 4280      	clr.l %d0
  63 0098 6002      	jra .L3
  64               	.L4:
  65 009a 70FF      	moveq #-1,%d0
  66               	.L3:
  67 009c 4E5E      	unlk %fp
  68 009e 4E75      	rts
  70               	.ident"GCC: (GNU) 4.5.1"
  71               	.section.note.GNU-stack,"",@progbits
68K GAS   			page 3


DEFINED SYMBOLS
                            *ABS*:00000000 fseek.c
    {standard input}:7      .text:00000000 fseek

UNDEFINED SYMBOLS
fflush
_ll_seek
