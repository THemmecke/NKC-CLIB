68K GAS   			page 1


   1               	
   2               	.file"fgetpos.c"
   3               	.text
   4               	.align2
   5               	.globlfgetpos
   7               	fgetpos:
   8 0000 4E56 0000 	link.w %fp,#0
   9 0004 2F02      	move.l %d2,-(%sp)
  10 0006 202E 0008 	move.l 8(%fp),%d0
  11 000a 2040      	move.l %d0,%a0
  12 000c 3028 001A 	move.w 26(%a0),%d0
  13 0010 0C40 444C 	cmp.w #17484,%d0
  14 0014 6600 00B0 	jne .L2
  15 0018 202E 0008 	move.l 8(%fp),%d0
  16 001c 2040      	move.l %d0,%a0
  17 001e 1028 0008 	move.b 8(%a0),%d0
  18 0022 49C0      	extb.l %d0
  19 0024 2F00      	move.l %d0,-(%sp)
  20 0026 4EB9 0000 	jsr _ll_getpos
  20      0000 
  21 002c 588F      	addq.l #4,%sp
  22 002e 2200      	move.l %d0,%d1
  23 0030 202E 000C 	move.l 12(%fp),%d0
  24 0034 2040      	move.l %d0,%a0
  25 0036 2081      	move.l %d1,(%a0)
  26 0038 202E 000C 	move.l 12(%fp),%d0
  27 003c 2040      	move.l %d0,%a0
  28 003e 2010      	move.l (%a0),%d0
  29 0040 4A80      	tst.l %d0
  30 0042 6C1C      	jge .L3
  31 0044 202E 0008 	move.l 8(%fp),%d0
  32 0048 2040      	move.l %d0,%a0
  33 004a 2028 0004 	move.l 4(%a0),%d0
  34 004e 7210      	moveq #16,%d1
  35 0050 8280      	or.l %d0,%d1
  36 0052 202E 0008 	move.l 8(%fp),%d0
  37 0056 2040      	move.l %d0,%a0
  38 0058 2141 0004 	move.l %d1,4(%a0)
  39 005c 70FF      	moveq #-1,%d0
  40 005e 6068      	jra .L4
  41               	.L3:
  42 0060 202E 0008 	move.l 8(%fp),%d0
  43 0064 2040      	move.l %d0,%a0
  44 0066 2028 0004 	move.l 4(%a0),%d0
  45 006a 727F      	moveq #127,%d1
  46 006c 4601      	not.b %d1
  47 006e C081      	and.l %d1,%d0
  48 0070 4A80      	tst.l %d0
  49 0072 6720      	jeq .L5
  50 0074 202E 000C 	move.l 12(%fp),%d0
  51 0078 2040      	move.l %d0,%a0
  52 007a 2010      	move.l (%a0),%d0
  53 007c 222E 0008 	move.l 8(%fp),%d1
  54 0080 2041      	move.l %d1,%a0
  55 0082 2210      	move.l (%a0),%d1
  56 0084 2400      	move.l %d0,%d2
  57 0086 9481      	sub.l %d1,%d2
68K GAS   			page 2


  58 0088 2202      	move.l %d2,%d1
  59 008a 202E 000C 	move.l 12(%fp),%d0
  60 008e 2040      	move.l %d0,%a0
  61 0090 2081      	move.l %d1,(%a0)
  62 0092 602E      	jra .L6
  63               	.L5:
  64 0094 202E 0008 	move.l 8(%fp),%d0
  65 0098 2040      	move.l %d0,%a0
  66 009a 2028 0004 	move.l 4(%a0),%d0
  67 009e 0280 0000 	and.l #256,%d0
  67      0100 
  68 00a4 4A80      	tst.l %d0
  69 00a6 671A      	jeq .L6
  70 00a8 202E 000C 	move.l 12(%fp),%d0
  71 00ac 2040      	move.l %d0,%a0
  72 00ae 2210      	move.l (%a0),%d1
  73 00b0 202E 0008 	move.l 8(%fp),%d0
  74 00b4 2040      	move.l %d0,%a0
  75 00b6 2010      	move.l (%a0),%d0
  76 00b8 D280      	add.l %d0,%d1
  77 00ba 202E 000C 	move.l 12(%fp),%d0
  78 00be 2040      	move.l %d0,%a0
  79 00c0 2081      	move.l %d1,(%a0)
  80               	.L6:
  81 00c2 4280      	clr.l %d0
  82 00c4 6002      	jra .L4
  83               	.L2:
  84 00c6 70FF      	moveq #-1,%d0
  85               	.L4:
  86 00c8 242E FFFC 	move.l -4(%fp),%d2
  87 00cc 4E5E      	unlk %fp
  88 00ce 4E75      	rts
  90               	.ident"GCC: (GNU) 4.5.1"
  91               	.section.note.GNU-stack,"",@progbits
68K GAS   			page 3


DEFINED SYMBOLS
                            *ABS*:00000000 fgetpos.c
    {standard input}:7      .text:00000000 fgetpos

UNDEFINED SYMBOLS
_ll_getpos
