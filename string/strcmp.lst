68K GAS   			page 1


   1               		.text
   0               	
   0               	
   2               		.global strcmp
   3               		
   4               	/*
   5               		int strcmp (const char *s1, const char *s)	
   6               		
   7               		This function starts comparing the first character of each string. 
   8               		If they are equal to each other, it continues with the following pairs 
   9               		until the characters differ or until a terminating null-character is reached.
  10               	
  11               		This function performs a binary comparison of the characters.	
  12               		
  13               		Returns an integral value indicating the relationship between the strings:
  14               			A zero value indicates that both strings are equal.
  15               			A value greater than zero indicates that the first 
  16               			character that does not match has a greater value in str1 than in str2; 
  17               			And a value less than zero indicates the opposite.
  18               	*/	
  19               			
  20               	
  21               	strcmp:
  22 0000 226F 0008 		move.l  (8,%a7),%a1	/* buf2	(s)  */
  23 0004 206F 0004 		move.l	(4,%A7),%a0	/* buf1	(s1) */
  24               	lp:
  25 0008 1219      		move.b	(%a1)+,%d1  /* check s[n] 					*/
  26 000a 6714      		beq.b	posout      /* Z-Flag (s ends) -> posout 	*/
  27 000c 4A10      		tst.b	(%a0)       /* check s1[n] 					*/
  28 000e 671C      		beq.b	negout		/* Z-Flag (s1 ends) -> negout 	*/
  29 0010 B218      		cmp.b	(%a0)+,%d1  /* compare a character ... 		*/
  30 0012 67F4      		beq.b	lp			/* try next if equal       		*/
  31 0014 6416      		bcc.b	negout      /* C-Flag = 0 -> 				*/
  32 0016 650E      		bcs.b	lp1		/* C-Flag = 1 -> 				*/
  33 0018 6000 FFEE 		bra	lp				/* is never reached ! 			*/
  34               	zerout:
  35 001c 4280      	   	clr.l	%d0
  36 001e 4E75      		rts
  37               	posout:
  38 0020 4A10      		tst.b	(%a0)		/* check s1[n], if it is zero	*/
  39 0022 6700 FFF8 		beq	zerout			/* both strings match -> zerout */
  40 0026 4280      	lp1:    clr.l	%d0
  41 0028 5240      		addq	#1,%d0      /* return 1 */
  42 002a 4E75      		rts
  43               	negout:
  44 002c 4280      		clr.l	%d0
  45 002e 5340      		subq	#1,%d0          /* return -1 */
  46 0030 4E75      		rts
68K GAS   			page 2


DEFINED SYMBOLS
            strcmp.S:21     .text:00000000 strcmp
            strcmp.S:24     .text:00000008 lp
            strcmp.S:37     .text:00000020 posout
            strcmp.S:43     .text:0000002c negout
            strcmp.S:40     .text:00000026 lp1
            strcmp.S:34     .text:0000001c zerout

NO UNDEFINED SYMBOLS
