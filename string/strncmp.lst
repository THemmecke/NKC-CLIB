68K GAS   			page 1


   1               		.text
   0               	
   0               	
   2               		.global strncmp
   3               	
   4               	/*
   5               		int strncmp ( const char * str1, const char * str2, size_t num )
   6               	*/
   7               		
   8               	strncmp:
   9 0000 202F 000C 		move.l 	(12,%a7),%d0	/* size	*/
  10 0004 671E      		beq.b	zerout
  11 0006 226F 0008 		move.l  (8,%a7),%a1	/* buf2	*/
  12 000a 206F 0004 		move.l	(4,%a7),%a0	/* buf1	*/
  13               	lp:
  14 000e 1219      		move.b	(%a1)+,%d1
  15 0010 6716      		beq.b	posout
  16 0012 4A10      		tst.b	(%a0)
  17 0014 671E      		beq.b	negout
  18 0016 B218      		cmp.b	(%a0)+,%d1
  19 0018 6704      		beq.b	lp2
  20 001a 6418      		bcc.b	negout
  21 001c 650A      		bcs.b	posout
  22               	lp2:
  23 001e 5340      		subq	#1,%d0
  24 0020 6600 FFEC 		bne	lp
  25               	zerout:
  26 0024 4280      	   	clr.l	%d0
  27 0026 4E75      		rts
  28               	posout:
  29 0028 4A10      		tst.b	(%a0)
  30 002a 6700 FFF8 		beq	zerout
  31 002e 4280      		clr.l	%d0
  32 0030 5240      		addq	#1,%d0
  33 0032 4E75      		rts
  34               	negout:
  35 0034 4280      		clr.l	%d0
  36 0036 5340      		subq	#1,%d0
  37 0038 4E75      		rts
68K GAS   			page 2


DEFINED SYMBOLS
           strncmp.S:8      .text:00000000 strncmp
           strncmp.S:25     .text:00000024 zerout
           strncmp.S:13     .text:0000000e lp
           strncmp.S:28     .text:00000028 posout
           strncmp.S:34     .text:00000034 negout
           strncmp.S:22     .text:0000001e lp2

NO UNDEFINED SYMBOLS
