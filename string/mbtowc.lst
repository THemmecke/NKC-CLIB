68K GAS   			page 1


   1               	
   2               	.file"mbtowc.c"
   3               	.data
   4               	.align2
   7               	phidefaults:
   8 0000 04        	.byte4
   9 0001 00        	.byte0
  10 0002 0F        	.byte15
  11 0003 00        	.byte0
  12 0004 00        	.byte0
  13 0005 00        	.byte0
  14 0006 7F        	.byte127
  15 0007 0000 0000 	.zero5
  15      00
  16               	.localcurparms
  17               	.commcurparms,12,2
  18               	.localrepeat
  19               	.commrepeat,4,2
  20               	.text
  21               	.align2
  22               	.globlmbinit
  24               	mbinit:
  25 0000 4E56 0000 	link.w %fp,#0
  26 0004 42B9 0000 	clr.l repeat
  26      0000 
  27 000a 203C 0000 	move.l #phidefaults,%d0
  27      0000 
  28 0010 223C 0000 	move.l #curparms,%d1
  28      0000 
  29 0016 2041      	move.l %d1,%a0
  30 0018 2240      	move.l %d0,%a1
  31 001a 2091      	move.l (%a1),(%a0)
  32 001c 5881      	addq.l #4,%d1
  33 001e 5880      	addq.l #4,%d0
  34 0020 2041      	move.l %d1,%a0
  35 0022 2240      	move.l %d0,%a1
  36 0024 2091      	move.l (%a1),(%a0)
  37 0026 5881      	addq.l #4,%d1
  38 0028 5880      	addq.l #4,%d0
  39 002a 2041      	move.l %d1,%a0
  40 002c 2240      	move.l %d0,%a1
  41 002e 2091      	move.l (%a1),(%a0)
  42 0030 5881      	addq.l #4,%d1
  43 0032 5880      	addq.l #4,%d0
  44 0034 4E5E      	unlk %fp
  45 0036 4E75      	rts
  47               	.align2
  49               	parsechar:
  50 0038 4E56 FFF4 	link.w %fp,#-12
  51 003c 2F02      	move.l %d2,-(%sp)
  52 003e 202E 000C 	move.l 12(%fp),%d0
  53 0042 2040      	move.l %d0,%a0
  54 0044 4290      	clr.l (%a0)
  55               	.L20:
  56 0046 202E 0008 	move.l 8(%fp),%d0
  57 004a 2240      	move.l %d0,%a1
  58 004c 2011      	move.l (%a1),%d0
68K GAS   			page 2


  59 004e 2040      	move.l %d0,%a0
  60 0050 1010      	move.b (%a0),%d0
  61 0052 4A00      	tst.b %d0
  62 0054 6606      	jne .L3
  63 0056 4280      	clr.l %d0
  64 0058 6000 02F4 	jra .L4
  65               	.L3:
  66 005c 2039 0000 	move.l repeat,%d0
  66      0000 
  67 0062 4A80      	tst.l %d0
  68 0064 6772      	jeq .L5
  69 0066 2039 0000 	move.l repeat,%d0
  69      0000 
  70 006c 5380      	subq.l #1,%d0
  71 006e 23C0 0000 	move.l %d0,repeat
  71      0000 
  72 0074 1039 0000 	move.b curparms+6,%d0
  72      0000 
  73 007a 1200      	move.b %d0,%d1
  74 007c 49C1      	extb.l %d1
  75 007e 1039 0000 	move.b curparms+5,%d0
  75      0000 
  76 0084 49C0      	extb.l %d0
  77 0086 EF88      	lsl.l #7,%d0
  78 0088 D280      	add.l %d0,%d1
  79 008a 1039 0000 	move.b curparms+4,%d0
  79      0000 
  80 0090 49C0      	extb.l %d0
  81 0092 740B      	moveq #11,%d2
  82 0094 E5A8      	lsl.l %d2,%d0
  83 0096 D280      	add.l %d0,%d1
  84 0098 1039 0000 	move.b curparms+3,%d0
  84      0000 
  85 009e 49C0      	extb.l %d0
  86 00a0 4840      	swap %d0
  87 00a2 4240      	clr.w %d0
  88 00a4 D280      	add.l %d0,%d1
  89 00a6 1039 0000 	move.b curparms+2,%d0
  89      0000 
  90 00ac 49C0      	extb.l %d0
  91 00ae 7414      	moveq #20,%d2
  92 00b0 E5A8      	lsl.l %d2,%d0
  93 00b2 D280      	add.l %d0,%d1
  94 00b4 1039 0000 	move.b curparms+1,%d0
  94      0000 
  95 00ba 49C0      	extb.l %d0
  96 00bc 7418      	moveq #24,%d2
  97 00be E5A8      	lsl.l %d2,%d0
  98 00c0 D280      	add.l %d0,%d1
  99 00c2 1039 0000 	move.b curparms,%d0
  99      0000 
 100 00c8 49C0      	extb.l %d0
 101 00ca 741C      	moveq #28,%d2
 102 00cc E5A8      	lsl.l %d2,%d0
 103 00ce D081      	add.l %d1,%d0
 104 00d0 2D40 FFFC 	move.l %d0,-4(%fp)
 105 00d4 6000 0274 	jra .L6
68K GAS   			page 3


 106               	.L5:
 107 00d8 202E 0008 	move.l 8(%fp),%d0
 108 00dc 2040      	move.l %d0,%a0
 109 00de 2010      	move.l (%a0),%d0
 110 00e0 2240      	move.l %d0,%a1
 111 00e2 1D51 FFF7 	move.b (%a1),-9(%fp)
 112 00e6 2200      	move.l %d0,%d1
 113 00e8 5281      	addq.l #1,%d1
 114 00ea 202E 0008 	move.l 8(%fp),%d0
 115 00ee 2040      	move.l %d0,%a0
 116 00f0 2081      	move.l %d1,(%a0)
 117 00f2 202E 000C 	move.l 12(%fp),%d0
 118 00f6 2240      	move.l %d0,%a1
 119 00f8 2011      	move.l (%a1),%d0
 120 00fa 2200      	move.l %d0,%d1
 121 00fc 5281      	addq.l #1,%d1
 122 00fe 202E 000C 	move.l 12(%fp),%d0
 123 0102 2040      	move.l %d0,%a0
 124 0104 2081      	move.l %d1,(%a0)
 125 0106 102E FFF7 	move.b -9(%fp),%d0
 126 010a 4A00      	tst.b %d0
 127 010c 6C00 0180 	jge .L7
 128 0110 102E FFF7 	move.b -9(%fp),%d0
 129 0114 1200      	move.b %d0,%d1
 130 0116 0201 0070 	and.b #112,%d1
 131 011a 1D41 FFF6 	move.b %d1,-10(%fp)
 132 011e 102E FFF6 	move.b -10(%fp),%d0
 133 0122 49C0      	extb.l %d0
 134 0124 7430      	moveq #48,%d2
 135 0126 B480      	cmp.l %d0,%d2
 136 0128 6700 0110 	jeq .L11
 137 012c 7230      	moveq #48,%d1
 138 012e B280      	cmp.l %d0,%d1
 139 0130 6D18      	jlt .L16
 140 0132 7410      	moveq #16,%d2
 141 0134 B480      	cmp.l %d0,%d2
 142 0136 6700 00F2 	jeq .L10
 143 013a 7220      	moveq #32,%d1
 144 013c B280      	cmp.l %d0,%d1
 145 013e 6700 00FA 	jeq .L11
 146 0142 4A80      	tst.l %d0
 147 0144 6732      	jeq .L9
 148 0146 6000 FEFE 	jra .L20
 149               	.L16:
 150 014a 7450      	moveq #80,%d2
 151 014c B480      	cmp.l %d0,%d2
 152 014e 6700 010A 	jeq .L13
 153 0152 7250      	moveq #80,%d1
 154 0154 B280      	cmp.l %d0,%d1
 155 0156 6D0C      	jlt .L17
 156 0158 7440      	moveq #64,%d2
 157 015a B480      	cmp.l %d0,%d2
 158 015c 6700 00EC 	jeq .L12
 159 0160 6000 FEE4 	jra .L20
 160               	.L17:
 161 0164 7260      	moveq #96,%d1
 162 0166 B280      	cmp.l %d0,%d1
68K GAS   			page 4


 163 0168 6700 0100 	jeq .L14
 164 016c 7470      	moveq #112,%d2
 165 016e B480      	cmp.l %d0,%d2
 166 0170 6700 0108 	jeq .L15
 167 0174 6000 FED0 	jra .L20
 168               	.L9:
 169 0178 42AE FFF8 	clr.l -8(%fp)
 170 017c 202E 0008 	move.l 8(%fp),%d0
 171 0180 2040      	move.l %d0,%a0
 172 0182 2010      	move.l (%a0),%d0
 173 0184 2200      	move.l %d0,%d1
 174 0186 5381      	subq.l #1,%d1
 175 0188 202E 0008 	move.l 8(%fp),%d0
 176 018c 2240      	move.l %d0,%a1
 177 018e 2281      	move.l %d1,(%a1)
 178 0190 202E 000C 	move.l 12(%fp),%d0
 179 0194 2040      	move.l %d0,%a0
 180 0196 2010      	move.l (%a0),%d0
 181 0198 2200      	move.l %d0,%d1
 182 019a 5381      	subq.l #1,%d1
 183 019c 202E 000C 	move.l 12(%fp),%d0
 184 01a0 2240      	move.l %d0,%a1
 185 01a2 2281      	move.l %d1,(%a1)
 186 01a4 6052      	jra .L18
 187               	.L19:
 188 01a6 202E 000C 	move.l 12(%fp),%d0
 189 01aa 2040      	move.l %d0,%a0
 190 01ac 2010      	move.l (%a0),%d0
 191 01ae 2200      	move.l %d0,%d1
 192 01b0 5281      	addq.l #1,%d1
 193 01b2 202E 000C 	move.l 12(%fp),%d0
 194 01b6 2240      	move.l %d0,%a1
 195 01b8 2281      	move.l %d1,(%a1)
 196 01ba 202E 0008 	move.l 8(%fp),%d0
 197 01be 2040      	move.l %d0,%a0
 198 01c0 2010      	move.l (%a0),%d0
 199 01c2 2200      	move.l %d0,%d1
 200 01c4 5281      	addq.l #1,%d1
 201 01c6 202E 0008 	move.l 8(%fp),%d0
 202 01ca 2240      	move.l %d0,%a1
 203 01cc 2281      	move.l %d1,(%a1)
 204 01ce 4280      	clr.l %d0
 205 01d0 102E FFF7 	move.b -9(%fp),%d0
 206 01d4 720F      	moveq #15,%d1
 207 01d6 C280      	and.l %d0,%d1
 208 01d8 202E FFF8 	move.l -8(%fp),%d0
 209 01dc E588      	lsl.l #2,%d0
 210 01de 2401      	move.l %d1,%d2
 211 01e0 E1AA      	lsl.l %d0,%d2
 212 01e2 2002      	move.l %d2,%d0
 213 01e4 5280      	addq.l #1,%d0
 214 01e6 2239 0000 	move.l repeat,%d1
 214      0000 
 215 01ec D081      	add.l %d1,%d0
 216 01ee 23C0 0000 	move.l %d0,repeat
 216      0000 
 217 01f4 52AE FFF8 	addq.l #1,-8(%fp)
68K GAS   			page 5


 218               	.L18:
 219 01f8 202E 0008 	move.l 8(%fp),%d0
 220 01fc 2040      	move.l %d0,%a0
 221 01fe 2010      	move.l (%a0),%d0
 222 0200 2240      	move.l %d0,%a1
 223 0202 1D51 FFF7 	move.b (%a1),-9(%fp)
 224 0206 4280      	clr.l %d0
 225 0208 102E FFF7 	move.b -9(%fp),%d0
 226 020c 720F      	moveq #15,%d1
 227 020e 4601      	not.b %d1
 228 0210 C081      	and.l %d1,%d0
 229 0212 0C80 0000 	cmp.l #128,%d0
 229      0080 
 230 0218 678C      	jeq .L19
 231 021a 2039 0000 	move.l repeat,%d0
 231      0000 
 232 0220 5280      	addq.l #1,%d0
 233 0222 23C0 0000 	move.l %d0,repeat
 233      0000 
 234 0228 6060      	jra .L8
 235               	.L10:
 236 022a 102E FFF7 	move.b -9(%fp),%d0
 237 022e 0200 000F 	and.b #15,%d0
 238 0232 13C0 0000 	move.b %d0,curparms+5
 238      0000 
 239 0238 6050      	jra .L8
 240               	.L11:
 241 023a 102E FFF7 	move.b -9(%fp),%d0
 242 023e 0200 001F 	and.b #31,%d0
 243 0242 13C0 0000 	move.b %d0,curparms+4
 243      0000 
 244 0248 6040      	jra .L8
 245               	.L12:
 246 024a 102E FFF7 	move.b -9(%fp),%d0
 247 024e 0200 000F 	and.b #15,%d0
 248 0252 13C0 0000 	move.b %d0,curparms+3
 248      0000 
 249 0258 6030      	jra .L8
 250               	.L13:
 251 025a 102E FFF7 	move.b -9(%fp),%d0
 252 025e 0200 000F 	and.b #15,%d0
 253 0262 13C0 0000 	move.b %d0,curparms+2
 253      0000 
 254 0268 6020      	jra .L8
 255               	.L14:
 256 026a 102E FFF7 	move.b -9(%fp),%d0
 257 026e 0200 000F 	and.b #15,%d0
 258 0272 13C0 0000 	move.b %d0,curparms+1
 258      0000 
 259 0278 6010      	jra .L8
 260               	.L15:
 261 027a 102E FFF7 	move.b -9(%fp),%d0
 262 027e 0200 000F 	and.b #15,%d0
 263 0282 13C0 0000 	move.b %d0,curparms
 263      0000 
 264 0288 4E71      	nop
 265               	.L8:
68K GAS   			page 6


 266 028a 6000 FDBA 	jra .L20
 267               	.L7:
 268 028e 4A2E FFF7 	tst.b -9(%fp)
 269 0292 670A      	jeq .L21
 270 0294 102E FFF7 	move.b -9(%fp),%d0
 271 0298 13C0 0000 	move.b %d0,curparms+6
 271      0000 
 272               	.L21:
 273 029e 4280      	clr.l %d0
 274 02a0 102E FFF7 	move.b -9(%fp),%d0
 275 02a4 7460      	moveq #96,%d2
 276 02a6 C082      	and.l %d2,%d0
 277 02a8 4A80      	tst.l %d0
 278 02aa 675E      	jeq .L22
 279 02ac 4281      	clr.l %d1
 280 02ae 122E FFF7 	move.b -9(%fp),%d1
 281 02b2 1039 0000 	move.b curparms+5,%d0
 281      0000 
 282 02b8 49C0      	extb.l %d0
 283 02ba EF88      	lsl.l #7,%d0
 284 02bc D280      	add.l %d0,%d1
 285 02be 1039 0000 	move.b curparms+4,%d0
 285      0000 
 286 02c4 49C0      	extb.l %d0
 287 02c6 740B      	moveq #11,%d2
 288 02c8 E5A8      	lsl.l %d2,%d0
 289 02ca D280      	add.l %d0,%d1
 290 02cc 1039 0000 	move.b curparms+3,%d0
 290      0000 
 291 02d2 49C0      	extb.l %d0
 292 02d4 4840      	swap %d0
 293 02d6 4240      	clr.w %d0
 294 02d8 D280      	add.l %d0,%d1
 295 02da 1039 0000 	move.b curparms+2,%d0
 295      0000 
 296 02e0 49C0      	extb.l %d0
 297 02e2 7414      	moveq #20,%d2
 298 02e4 E5A8      	lsl.l %d2,%d0
 299 02e6 D280      	add.l %d0,%d1
 300 02e8 1039 0000 	move.b curparms+1,%d0
 300      0000 
 301 02ee 49C0      	extb.l %d0
 302 02f0 7418      	moveq #24,%d2
 303 02f2 E5A8      	lsl.l %d2,%d0
 304 02f4 D280      	add.l %d0,%d1
 305 02f6 1039 0000 	move.b curparms,%d0
 305      0000 
 306 02fc 49C0      	extb.l %d0
 307 02fe 741C      	moveq #28,%d2
 308 0300 E5A8      	lsl.l %d2,%d0
 309 0302 D081      	add.l %d1,%d0
 310 0304 2D40 FFFC 	move.l %d0,-4(%fp)
 311 0308 6040      	jra .L6
 312               	.L22:
 313 030a 4280      	clr.l %d0
 314 030c 102E FFF7 	move.b -9(%fp),%d0
 315 0310 2D40 FFFC 	move.l %d0,-4(%fp)
68K GAS   			page 7


 316 0314 0C2E 000A 	cmp.b #10,-9(%fp)
 316      FFF7 
 317 031a 662C      	jne .L24
 318 031c 203C 0000 	move.l #phidefaults,%d0
 318      0000 
 319 0322 223C 0000 	move.l #curparms,%d1
 319      0000 
 320 0328 2041      	move.l %d1,%a0
 321 032a 2240      	move.l %d0,%a1
 322 032c 2091      	move.l (%a1),(%a0)
 323 032e 5881      	addq.l #4,%d1
 324 0330 5880      	addq.l #4,%d0
 325 0332 2041      	move.l %d1,%a0
 326 0334 2240      	move.l %d0,%a1
 327 0336 2091      	move.l (%a1),(%a0)
 328 0338 5881      	addq.l #4,%d1
 329 033a 5880      	addq.l #4,%d0
 330 033c 2041      	move.l %d1,%a0
 331 033e 2240      	move.l %d0,%a1
 332 0340 2091      	move.l (%a1),(%a0)
 333 0342 5881      	addq.l #4,%d1
 334 0344 5880      	addq.l #4,%d0
 335 0346 6002      	jra .L6
 336               	.L24:
 337 0348 4E71      	nop
 338               	.L6:
 339 034a 202E FFFC 	move.l -4(%fp),%d0
 340               	.L4:
 341 034e 241F      	move.l (%sp)+,%d2
 342 0350 4E5E      	unlk %fp
 343 0352 4E75      	rts
 345               	.align2
 346               	.globlmbtowc
 348               	mbtowc:
 349 0354 4E56 FFFC 	link.w %fp,#-4
 350 0358 42AE FFFC 	clr.l -4(%fp)
 351 035c 700C      	moveq #12,%d0
 352 035e D08E      	add.l %fp,%d0
 353 0360 220E      	move.l %fp,%d1
 354 0362 5981      	subq.l #4,%d1
 355 0364 2F01      	move.l %d1,-(%sp)
 356 0366 2F00      	move.l %d0,-(%sp)
 357 0368 4EBA FCCE 	jsr parsechar
 358 036c 508F      	addq.l #8,%sp
 359 036e 2200      	move.l %d0,%d1
 360 0370 202E 0008 	move.l 8(%fp),%d0
 361 0374 2040      	move.l %d0,%a0
 362 0376 2081      	move.l %d1,(%a0)
 363 0378 202E FFFC 	move.l -4(%fp),%d0
 364 037c B0AE 0010 	cmp.l 16(%fp),%d0
 365 0380 6206      	jhi .L26
 366 0382 202E FFFC 	move.l -4(%fp),%d0
 367 0386 6002      	jra .L27
 368               	.L26:
 369 0388 70FF      	moveq #-1,%d0
 370               	.L27:
 371 038a 4E5E      	unlk %fp
68K GAS   			page 8


 372 038c 4E75      	rts
 374               	.align2
 375               	.globlmblen
 377               	mblen:
 378 038e 4E56 FFFC 	link.w %fp,#-4
 379 0392 2F02      	move.l %d2,-(%sp)
 380 0394 42AE FFFC 	clr.l -4(%fp)
 381 0398 202E 0008 	move.l 8(%fp),%d0
 382 039c 4A80      	tst.l %d0
 383 039e 6634      	jne .L29
 384 03a0 203C 0000 	move.l #phidefaults,%d0
 384      0000 
 385 03a6 223C 0000 	move.l #curparms,%d1
 385      0000 
 386 03ac 2041      	move.l %d1,%a0
 387 03ae 2240      	move.l %d0,%a1
 388 03b0 2091      	move.l (%a1),(%a0)
 389 03b2 5881      	addq.l #4,%d1
 390 03b4 5880      	addq.l #4,%d0
 391 03b6 2041      	move.l %d1,%a0
 392 03b8 2240      	move.l %d0,%a1
 393 03ba 2091      	move.l (%a1),(%a0)
 394 03bc 5881      	addq.l #4,%d1
 395 03be 5880      	addq.l #4,%d0
 396 03c0 2041      	move.l %d1,%a0
 397 03c2 2240      	move.l %d0,%a1
 398 03c4 2091      	move.l (%a1),(%a0)
 399 03c6 5881      	addq.l #4,%d1
 400 03c8 5880      	addq.l #4,%d0
 401 03ca 42B9 0000 	clr.l repeat
 401      0000 
 402 03d0 4280      	clr.l %d0
 403 03d2 607C      	jra .L30
 404               	.L29:
 405 03d4 2039 0000 	move.l repeat,%d0
 405      0000 
 406 03da 4A80      	tst.l %d0
 407 03dc 6704      	jeq .L31
 408 03de 4280      	clr.l %d0
 409 03e0 606E      	jra .L30
 410               	.L31:
 411 03e2 202E 0008 	move.l 8(%fp),%d0
 412 03e6 2040      	move.l %d0,%a0
 413 03e8 1010      	move.b (%a0),%d0
 414 03ea 49C0      	extb.l %d0
 415 03ec 720F      	moveq #15,%d1
 416 03ee 4601      	not.b %d1
 417 03f0 C081      	and.l %d1,%d0
 418 03f2 0C80 0000 	cmp.l #128,%d0
 418      0080 
 419 03f8 6632      	jne .L32
 420 03fa 600A      	jra .L33
 421               	.L34:
 422 03fc 202E FFFC 	move.l -4(%fp),%d0
 423 0400 5280      	addq.l #1,%d0
 424 0402 2D40 FFFC 	move.l %d0,-4(%fp)
 425               	.L33:
68K GAS   			page 9


 426 0406 222E 0008 	move.l 8(%fp),%d1
 427 040a 2041      	move.l %d1,%a0
 428 040c 1010      	move.b (%a0),%d0
 429 040e 49C0      	extb.l %d0
 430 0410 740F      	moveq #15,%d2
 431 0412 4602      	not.b %d2
 432 0414 C082      	and.l %d2,%d0
 433 0416 0C80 0000 	cmp.l #128,%d0
 433      0080 
 434 041c 57C0      	seq %d0
 435 041e 4400      	neg.b %d0
 436 0420 5281      	addq.l #1,%d1
 437 0422 2D41 0008 	move.l %d1,8(%fp)
 438 0426 4A00      	tst.b %d0
 439 0428 66D2      	jne .L34
 440 042a 6012      	jra .L35
 441               	.L32:
 442 042c 200E      	move.l %fp,%d0
 443 042e 5080      	addq.l #8,%d0
 444 0430 220E      	move.l %fp,%d1
 445 0432 5981      	subq.l #4,%d1
 446 0434 2F01      	move.l %d1,-(%sp)
 447 0436 2F00      	move.l %d0,-(%sp)
 448 0438 4EBA FBFE 	jsr parsechar
 449 043c 508F      	addq.l #8,%sp
 450               	.L35:
 451 043e 202E FFFC 	move.l -4(%fp),%d0
 452 0442 B0AE 000C 	cmp.l 12(%fp),%d0
 453 0446 6206      	jhi .L36
 454 0448 202E FFFC 	move.l -4(%fp),%d0
 455 044c 6002      	jra .L30
 456               	.L36:
 457 044e 70FF      	moveq #-1,%d0
 458               	.L30:
 459 0450 242E FFF8 	move.l -8(%fp),%d2
 460 0454 4E5E      	unlk %fp
 461 0456 4E75      	rts
 463               	.align2
 464               	.globlmbstowcs
 466               	mbstowcs:
 467 0458 4E56 FFF4 	link.w %fp,#-12
 468 045c 42AE FFF4 	clr.l -12(%fp)
 469 0460 7001      	moveq #1,%d0
 470 0462 2D40 FFF8 	move.l %d0,-8(%fp)
 471 0466 202E 000C 	move.l 12(%fp),%d0
 472 046a 4A80      	tst.l %d0
 473 046c 6634      	jne .L38
 474 046e 203C 0000 	move.l #phidefaults,%d0
 474      0000 
 475 0474 223C 0000 	move.l #curparms,%d1
 475      0000 
 476 047a 2041      	move.l %d1,%a0
 477 047c 2240      	move.l %d0,%a1
 478 047e 2091      	move.l (%a1),(%a0)
 479 0480 5881      	addq.l #4,%d1
 480 0482 5880      	addq.l #4,%d0
 481 0484 2041      	move.l %d1,%a0
68K GAS   			page 10


 482 0486 2240      	move.l %d0,%a1
 483 0488 2091      	move.l (%a1),(%a0)
 484 048a 5881      	addq.l #4,%d1
 485 048c 5880      	addq.l #4,%d0
 486 048e 2041      	move.l %d1,%a0
 487 0490 2240      	move.l %d0,%a1
 488 0492 2091      	move.l (%a1),(%a0)
 489 0494 5881      	addq.l #4,%d1
 490 0496 5880      	addq.l #4,%d0
 491 0498 42B9 0000 	clr.l repeat
 491      0000 
 492 049e 4280      	clr.l %d0
 493 04a0 6066      	jra .L39
 494               	.L38:
 495 04a2 42AE FFFC 	clr.l -4(%fp)
 496 04a6 6028      	jra .L40
 497               	.L42:
 498 04a8 700C      	moveq #12,%d0
 499 04aa D08E      	add.l %fp,%d0
 500 04ac 72F4      	moveq #-12,%d1
 501 04ae D28E      	add.l %fp,%d1
 502 04b0 2F01      	move.l %d1,-(%sp)
 503 04b2 2F00      	move.l %d0,-(%sp)
 504 04b4 4EBA FB82 	jsr parsechar
 505 04b8 508F      	addq.l #8,%sp
 506 04ba 2D40 FFF8 	move.l %d0,-8(%fp)
 507 04be 202E 0008 	move.l 8(%fp),%d0
 508 04c2 2040      	move.l %d0,%a0
 509 04c4 20AE FFF8 	move.l -8(%fp),(%a0)
 510 04c8 58AE 0008 	addq.l #4,8(%fp)
 511 04cc 52AE FFFC 	addq.l #1,-4(%fp)
 512               	.L40:
 513 04d0 222E FFFC 	move.l -4(%fp),%d1
 514 04d4 202E 0010 	move.l 16(%fp),%d0
 515 04d8 5380      	subq.l #1,%d0
 516 04da B081      	cmp.l %d1,%d0
 517 04dc 630C      	jls .L41
 518 04de 7000      	moveq #0,%d0
 519 04e0 4600      	not.b %d0
 520 04e2 C0AE FFF8 	and.l -8(%fp),%d0
 521 04e6 4A80      	tst.l %d0
 522 04e8 66BE      	jne .L42
 523               	.L41:
 524 04ea 222E FFFC 	move.l -4(%fp),%d1
 525 04ee 202E 0010 	move.l 16(%fp),%d0
 526 04f2 5380      	subq.l #1,%d0
 527 04f4 B081      	cmp.l %d1,%d0
 528 04f6 630C      	jls .L43
 529 04f8 202E 0008 	move.l 8(%fp),%d0
 530 04fc 2240      	move.l %d0,%a1
 531 04fe 4291      	clr.l (%a1)
 532 0500 58AE 0008 	addq.l #4,8(%fp)
 533               	.L43:
 534 0504 202E FFFC 	move.l -4(%fp),%d0
 535               	.L39:
 536 0508 4E5E      	unlk %fp
 537 050a 4E75      	rts
68K GAS   			page 11


 539               	.ident"GCC: (GNU) 4.5.1"
 540               	.section.note.GNU-stack,"",@progbits
68K GAS   			page 12


DEFINED SYMBOLS
                            *ABS*:00000000 mbtowc.c
    {standard input}:7      .data:00000000 phidefaults
    {standard input}:17     .bss:00000000 curparms
    {standard input}:19     .bss:0000000c repeat
    {standard input}:24     .text:00000000 mbinit
    {standard input}:49     .text:00000038 parsechar
    {standard input}:348    .text:00000354 mbtowc
    {standard input}:377    .text:0000038e mblen
    {standard input}:466    .text:00000458 mbstowcs

NO UNDEFINED SYMBOLS
