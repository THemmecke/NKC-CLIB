68K GAS   			page 1


   1               	
   2               	.file"wctomb.c"
   3               	.data
   4               	.align2
   7               	phidefaults:
   8 0000 04        	.byte4
   9 0001 00        	.byte0
  10 0002 0F        	.byte15
  11 0003 00        	.byte0
  12 0004 00        	.byte0
  13 0005 00        	.byte0
  14 0006 7F        	.byte127
  15 0007 00        	.zero1
  16 0008 0000 0001 	.long1
  17               	.localcurparms
  18               	.commcurparms,12,2
  19               	.text
  20               	.align2
  21               	.globlwcinit
  23               	wcinit:
  24 0000 4E56 0000 	link.w %fp,#0
  25 0004 203C 0000 	move.l #phidefaults,%d0
  25      0000 
  26 000a 223C 0000 	move.l #curparms,%d1
  26      0000 
  27 0010 2041      	move.l %d1,%a0
  28 0012 2240      	move.l %d0,%a1
  29 0014 2091      	move.l (%a1),(%a0)
  30 0016 5881      	addq.l #4,%d1
  31 0018 5880      	addq.l #4,%d0
  32 001a 2041      	move.l %d1,%a0
  33 001c 2240      	move.l %d0,%a1
  34 001e 2091      	move.l (%a1),(%a0)
  35 0020 5881      	addq.l #4,%d1
  36 0022 5880      	addq.l #4,%d0
  37 0024 2041      	move.l %d1,%a0
  38 0026 2240      	move.l %d0,%a1
  39 0028 2091      	move.l (%a1),(%a0)
  40 002a 5881      	addq.l #4,%d1
  41 002c 5880      	addq.l #4,%d0
  42 002e 4E5E      	unlk %fp
  43 0030 4E75      	rts
  45               	.align2
  47               	flush:
  48 0032 4E56 0000 	link.w %fp,#0
  49 0036 1239 0000 	move.b phidefaults,%d1
  49      0000 
  50 003c 1039 0000 	move.b curparms,%d0
  50      0000 
  51 0042 B001      	cmp.b %d1,%d0
  52 0044 671A      	jeq .L3
  53 0046 202E 000C 	move.l 12(%fp),%d0
  54 004a D0AE 0008 	add.l 8(%fp),%d0
  55 004e 1239 0000 	move.b phidefaults,%d1
  55      0000 
  56 0054 0601 FFF0 	add.b #-16,%d1
  57 0058 2040      	move.l %d0,%a0
68K GAS   			page 2


  58 005a 1081      	move.b %d1,(%a0)
  59 005c 52AE 000C 	addq.l #1,12(%fp)
  60               	.L3:
  61 0060 1239 0000 	move.b phidefaults+1,%d1
  61      0000 
  62 0066 1039 0000 	move.b curparms+1,%d0
  62      0000 
  63 006c B001      	cmp.b %d1,%d0
  64 006e 671A      	jeq .L4
  65 0070 202E 000C 	move.l 12(%fp),%d0
  66 0074 D0AE 0008 	add.l 8(%fp),%d0
  67 0078 1239 0000 	move.b phidefaults+1,%d1
  67      0000 
  68 007e 0601 FFE0 	add.b #-32,%d1
  69 0082 2240      	move.l %d0,%a1
  70 0084 1281      	move.b %d1,(%a1)
  71 0086 52AE 000C 	addq.l #1,12(%fp)
  72               	.L4:
  73 008a 1239 0000 	move.b phidefaults+2,%d1
  73      0000 
  74 0090 1039 0000 	move.b curparms+2,%d0
  74      0000 
  75 0096 B001      	cmp.b %d1,%d0
  76 0098 671A      	jeq .L5
  77 009a 202E 000C 	move.l 12(%fp),%d0
  78 009e D0AE 0008 	add.l 8(%fp),%d0
  79 00a2 1239 0000 	move.b phidefaults+2,%d1
  79      0000 
  80 00a8 0601 FFD0 	add.b #-48,%d1
  81 00ac 2040      	move.l %d0,%a0
  82 00ae 1081      	move.b %d1,(%a0)
  83 00b0 52AE 000C 	addq.l #1,12(%fp)
  84               	.L5:
  85 00b4 1239 0000 	move.b phidefaults+3,%d1
  85      0000 
  86 00ba 1039 0000 	move.b curparms+3,%d0
  86      0000 
  87 00c0 B001      	cmp.b %d1,%d0
  88 00c2 671A      	jeq .L6
  89 00c4 202E 000C 	move.l 12(%fp),%d0
  90 00c8 D0AE 0008 	add.l 8(%fp),%d0
  91 00cc 1239 0000 	move.b phidefaults+3,%d1
  91      0000 
  92 00d2 0601 FFC0 	add.b #-64,%d1
  93 00d6 2240      	move.l %d0,%a1
  94 00d8 1281      	move.b %d1,(%a1)
  95 00da 52AE 000C 	addq.l #1,12(%fp)
  96               	.L6:
  97 00de 1239 0000 	move.b phidefaults+4,%d1
  97      0000 
  98 00e4 1039 0000 	move.b curparms+4,%d0
  98      0000 
  99 00ea B001      	cmp.b %d1,%d0
 100 00ec 671A      	jeq .L7
 101 00ee 202E 000C 	move.l 12(%fp),%d0
 102 00f2 D0AE 0008 	add.l 8(%fp),%d0
 103 00f6 1239 0000 	move.b phidefaults+4,%d1
68K GAS   			page 3


 103      0000 
 104 00fc 0601 FFA0 	add.b #-96,%d1
 105 0100 2040      	move.l %d0,%a0
 106 0102 1081      	move.b %d1,(%a0)
 107 0104 52AE 000C 	addq.l #1,12(%fp)
 108               	.L7:
 109 0108 1239 0000 	move.b phidefaults+5,%d1
 109      0000 
 110 010e 1039 0000 	move.b curparms+5,%d0
 110      0000 
 111 0114 B001      	cmp.b %d1,%d0
 112 0116 671A      	jeq .L8
 113 0118 202E 000C 	move.l 12(%fp),%d0
 114 011c D0AE 0008 	add.l 8(%fp),%d0
 115 0120 1239 0000 	move.b phidefaults+5,%d1
 115      0000 
 116 0126 0601 FF90 	add.b #-112,%d1
 117 012a 2240      	move.l %d0,%a1
 118 012c 1281      	move.b %d1,(%a1)
 119 012e 52AE 000C 	addq.l #1,12(%fp)
 120               	.L8:
 121 0132 202E 000C 	move.l 12(%fp),%d0
 122 0136 D0AE 0008 	add.l 8(%fp),%d0
 123 013a 2040      	move.l %d0,%a0
 124 013c 4210      	clr.b (%a0)
 125 013e 52AE 000C 	addq.l #1,12(%fp)
 126 0142 203C 0000 	move.l #phidefaults,%d0
 126      0000 
 127 0148 223C 0000 	move.l #curparms,%d1
 127      0000 
 128 014e 2241      	move.l %d1,%a1
 129 0150 2040      	move.l %d0,%a0
 130 0152 2290      	move.l (%a0),(%a1)
 131 0154 5881      	addq.l #4,%d1
 132 0156 5880      	addq.l #4,%d0
 133 0158 2241      	move.l %d1,%a1
 134 015a 2040      	move.l %d0,%a0
 135 015c 2290      	move.l (%a0),(%a1)
 136 015e 5881      	addq.l #4,%d1
 137 0160 5880      	addq.l #4,%d0
 138 0162 2241      	move.l %d1,%a1
 139 0164 2040      	move.l %d0,%a0
 140 0166 2290      	move.l (%a0),(%a1)
 141 0168 5881      	addq.l #4,%d1
 142 016a 5880      	addq.l #4,%d0
 143 016c 202E 000C 	move.l 12(%fp),%d0
 144 0170 4E5E      	unlk %fp
 145 0172 4E75      	rts
 147               	.align2
 149               	installphichar:
 150 0174 4E56 FFF0 	link.w %fp,#-16
 151 0178 42AE FFFC 	clr.l -4(%fp)
 152 017c 202E 0010 	move.l 16(%fp),%d0
 153 0180 D1AE 000C 	add.l %d0,12(%fp)
 154 0184 223C 0000 	move.l #curparms,%d1
 154      0000 
 155 018a 70F0      	moveq #-16,%d0
68K GAS   			page 4


 156 018c D08E      	add.l %fp,%d0
 157 018e 2040      	move.l %d0,%a0
 158 0190 2241      	move.l %d1,%a1
 159 0192 2091      	move.l (%a1),(%a0)
 160 0194 5880      	addq.l #4,%d0
 161 0196 5881      	addq.l #4,%d1
 162 0198 2040      	move.l %d0,%a0
 163 019a 2241      	move.l %d1,%a1
 164 019c 2091      	move.l (%a1),(%a0)
 165 019e 5880      	addq.l #4,%d0
 166 01a0 5881      	addq.l #4,%d1
 167 01a2 2040      	move.l %d0,%a0
 168 01a4 2241      	move.l %d1,%a1
 169 01a6 2091      	move.l (%a1),(%a0)
 170 01a8 5880      	addq.l #4,%d0
 171 01aa 5881      	addq.l #4,%d1
 172 01ac 202E 0008 	move.l 8(%fp),%d0
 173 01b0 1000      	move.b %d0,%d0
 174 01b2 0200 007F 	and.b #127,%d0
 175 01b6 1D40 FFF6 	move.b %d0,-10(%fp)
 176 01ba 102E FFF6 	move.b -10(%fp),%d0
 177 01be 0C00 001F 	cmp.b #31,%d0
 178 01c2 6F00 014C 	jle .L10
 179 01c6 202E 0008 	move.l 8(%fp),%d0
 180 01ca 721C      	moveq #28,%d1
 181 01cc E2A8      	lsr.l %d1,%d0
 182 01ce 1000      	move.b %d0,%d0
 183 01d0 1D40 FFF0 	move.b %d0,-16(%fp)
 184 01d4 202E 0008 	move.l 8(%fp),%d0
 185 01d8 7218      	moveq #24,%d1
 186 01da E2A8      	lsr.l %d1,%d0
 187 01dc 1000      	move.b %d0,%d0
 188 01de 0200 000F 	and.b #15,%d0
 189 01e2 1D40 FFF1 	move.b %d0,-15(%fp)
 190 01e6 202E 0008 	move.l 8(%fp),%d0
 191 01ea 7214      	moveq #20,%d1
 192 01ec E2A8      	lsr.l %d1,%d0
 193 01ee 1000      	move.b %d0,%d0
 194 01f0 0200 000F 	and.b #15,%d0
 195 01f4 1D40 FFF3 	move.b %d0,-13(%fp)
 196 01f8 202E 0008 	move.l 8(%fp),%d0
 197 01fc 4240      	clr.w %d0
 198 01fe 4840      	swap %d0
 199 0200 1000      	move.b %d0,%d0
 200 0202 0200 000F 	and.b #15,%d0
 201 0206 1D40 FFF2 	move.b %d0,-14(%fp)
 202 020a 202E 0008 	move.l 8(%fp),%d0
 203 020e 720B      	moveq #11,%d1
 204 0210 E2A8      	lsr.l %d1,%d0
 205 0212 1000      	move.b %d0,%d0
 206 0214 0200 001F 	and.b #31,%d0
 207 0218 1D40 FFF4 	move.b %d0,-12(%fp)
 208 021c 202E 0008 	move.l 8(%fp),%d0
 209 0220 EE88      	lsr.l #7,%d0
 210 0222 1000      	move.b %d0,%d0
 211 0224 0200 000F 	and.b #15,%d0
 212 0228 1D40 FFF5 	move.b %d0,-11(%fp)
68K GAS   			page 5


 213 022c 122E FFF0 	move.b -16(%fp),%d1
 214 0230 1039 0000 	move.b curparms,%d0
 214      0000 
 215 0236 B001      	cmp.b %d1,%d0
 216 0238 6718      	jeq .L11
 217 023a 202E FFFC 	move.l -4(%fp),%d0
 218 023e D0AE 000C 	add.l 12(%fp),%d0
 219 0242 122E FFF0 	move.b -16(%fp),%d1
 220 0246 0601 FFF0 	add.b #-16,%d1
 221 024a 2040      	move.l %d0,%a0
 222 024c 1081      	move.b %d1,(%a0)
 223 024e 52AE FFFC 	addq.l #1,-4(%fp)
 224               	.L11:
 225 0252 122E FFF1 	move.b -15(%fp),%d1
 226 0256 1039 0000 	move.b curparms+1,%d0
 226      0000 
 227 025c B001      	cmp.b %d1,%d0
 228 025e 6718      	jeq .L12
 229 0260 202E FFFC 	move.l -4(%fp),%d0
 230 0264 D0AE 000C 	add.l 12(%fp),%d0
 231 0268 122E FFF1 	move.b -15(%fp),%d1
 232 026c 0601 FFE0 	add.b #-32,%d1
 233 0270 2240      	move.l %d0,%a1
 234 0272 1281      	move.b %d1,(%a1)
 235 0274 52AE FFFC 	addq.l #1,-4(%fp)
 236               	.L12:
 237 0278 122E FFF2 	move.b -14(%fp),%d1
 238 027c 1039 0000 	move.b curparms+2,%d0
 238      0000 
 239 0282 B001      	cmp.b %d1,%d0
 240 0284 6718      	jeq .L13
 241 0286 202E FFFC 	move.l -4(%fp),%d0
 242 028a D0AE 000C 	add.l 12(%fp),%d0
 243 028e 122E FFF2 	move.b -14(%fp),%d1
 244 0292 0601 FFD0 	add.b #-48,%d1
 245 0296 2040      	move.l %d0,%a0
 246 0298 1081      	move.b %d1,(%a0)
 247 029a 52AE FFFC 	addq.l #1,-4(%fp)
 248               	.L13:
 249 029e 122E FFF3 	move.b -13(%fp),%d1
 250 02a2 1039 0000 	move.b curparms+3,%d0
 250      0000 
 251 02a8 B001      	cmp.b %d1,%d0
 252 02aa 6718      	jeq .L14
 253 02ac 202E FFFC 	move.l -4(%fp),%d0
 254 02b0 D0AE 000C 	add.l 12(%fp),%d0
 255 02b4 122E FFF3 	move.b -13(%fp),%d1
 256 02b8 0601 FFC0 	add.b #-64,%d1
 257 02bc 2240      	move.l %d0,%a1
 258 02be 1281      	move.b %d1,(%a1)
 259 02c0 52AE FFFC 	addq.l #1,-4(%fp)
 260               	.L14:
 261 02c4 122E FFF4 	move.b -12(%fp),%d1
 262 02c8 1039 0000 	move.b curparms+4,%d0
 262      0000 
 263 02ce B001      	cmp.b %d1,%d0
 264 02d0 6718      	jeq .L15
68K GAS   			page 6


 265 02d2 202E FFFC 	move.l -4(%fp),%d0
 266 02d6 D0AE 000C 	add.l 12(%fp),%d0
 267 02da 122E FFF4 	move.b -12(%fp),%d1
 268 02de 0601 FFA0 	add.b #-96,%d1
 269 02e2 2040      	move.l %d0,%a0
 270 02e4 1081      	move.b %d1,(%a0)
 271 02e6 52AE FFFC 	addq.l #1,-4(%fp)
 272               	.L15:
 273 02ea 122E FFF5 	move.b -11(%fp),%d1
 274 02ee 1039 0000 	move.b curparms+5,%d0
 274      0000 
 275 02f4 B001      	cmp.b %d1,%d0
 276 02f6 6718      	jeq .L10
 277 02f8 202E FFFC 	move.l -4(%fp),%d0
 278 02fc D0AE 000C 	add.l 12(%fp),%d0
 279 0300 122E FFF5 	move.b -11(%fp),%d1
 280 0304 0601 FF90 	add.b #-112,%d1
 281 0308 2240      	move.l %d0,%a1
 282 030a 1281      	move.b %d1,(%a1)
 283 030c 52AE FFFC 	addq.l #1,-4(%fp)
 284               	.L10:
 285 0310 122E FFF6 	move.b -10(%fp),%d1
 286 0314 1039 0000 	move.b curparms+6,%d0
 286      0000 
 287 031a B001      	cmp.b %d1,%d0
 288 031c 6606      	jne .L16
 289 031e 4AAE FFFC 	tst.l -4(%fp)
 290 0322 671E      	jeq .L17
 291               	.L16:
 292 0324 202E FFFC 	move.l -4(%fp),%d0
 293 0328 D0AE 000C 	add.l 12(%fp),%d0
 294 032c 122E FFF6 	move.b -10(%fp),%d1
 295 0330 2040      	move.l %d0,%a0
 296 0332 1081      	move.b %d1,(%a0)
 297 0334 52AE FFFC 	addq.l #1,-4(%fp)
 298 0338 7001      	moveq #1,%d0
 299 033a 2D40 FFF8 	move.l %d0,-8(%fp)
 300 033e 6000 0180 	jra .L18
 301               	.L17:
 302 0342 202E FFF8 	move.l -8(%fp),%d0
 303 0346 5280      	addq.l #1,%d0
 304 0348 2D40 FFF8 	move.l %d0,-8(%fp)
 305 034c 202E FFF8 	move.l -8(%fp),%d0
 306 0350 7202      	moveq #2,%d1
 307 0352 B280      	cmp.l %d0,%d1
 308 0354 6618      	jne .L19
 309 0356 202E FFFC 	move.l -4(%fp),%d0
 310 035a D0AE 000C 	add.l 12(%fp),%d0
 311 035e 122E FFF6 	move.b -10(%fp),%d1
 312 0362 2040      	move.l %d0,%a0
 313 0364 1081      	move.b %d1,(%a0)
 314 0366 52AE FFFC 	addq.l #1,-4(%fp)
 315 036a 6000 0154 	jra .L18
 316               	.L19:
 317 036e 202E FFF8 	move.l -8(%fp),%d0
 318 0372 7203      	moveq #3,%d1
 319 0374 B280      	cmp.l %d0,%d1
68K GAS   			page 7


 320 0376 6610      	jne .L20
 321 0378 202E 000C 	move.l 12(%fp),%d0
 322 037c 5380      	subq.l #1,%d0
 323 037e 2040      	move.l %d0,%a0
 324 0380 10BC FF80 	move.b #-128,(%a0)
 325 0384 6000 013A 	jra .L18
 326               	.L20:
 327 0388 202E FFF8 	move.l -8(%fp),%d0
 328 038c 7213      	moveq #19,%d1
 329 038e B280      	cmp.l %d0,%d1
 330 0390 6622      	jne .L21
 331 0392 202E FFFC 	move.l -4(%fp),%d0
 332 0396 D0AE 000C 	add.l 12(%fp),%d0
 333 039a 2040      	move.l %d0,%a0
 334 039c 10BC FF80 	move.b #-128,(%a0)
 335 03a0 52AE FFFC 	addq.l #1,-4(%fp)
 336 03a4 202E 000C 	move.l 12(%fp),%d0
 337 03a8 5380      	subq.l #1,%d0
 338 03aa 2240      	move.l %d0,%a1
 339 03ac 12BC FF8F 	move.b #-113,(%a1)
 340 03b0 6000 010E 	jra .L18
 341               	.L21:
 342 03b4 202E FFF8 	move.l -8(%fp),%d0
 343 03b8 0C80 0000 	cmp.l #260,%d0
 343      0104 
 344 03be 662E      	jne .L22
 345 03c0 202E 000C 	move.l 12(%fp),%d0
 346 03c4 5580      	subq.l #2,%d0
 347 03c6 2040      	move.l %d0,%a0
 348 03c8 10BC FF8F 	move.b #-113,(%a0)
 349 03cc 202E 000C 	move.l 12(%fp),%d0
 350 03d0 5380      	subq.l #1,%d0
 351 03d2 2240      	move.l %d0,%a1
 352 03d4 12BC FF8F 	move.b #-113,(%a1)
 353 03d8 202E FFFC 	move.l -4(%fp),%d0
 354 03dc D0AE 000C 	add.l 12(%fp),%d0
 355 03e0 2040      	move.l %d0,%a0
 356 03e2 10BC FF80 	move.b #-128,(%a0)
 357 03e6 52AE FFFC 	addq.l #1,-4(%fp)
 358 03ea 6000 00D4 	jra .L18
 359               	.L22:
 360 03ee 202E FFF8 	move.l -8(%fp),%d0
 361 03f2 7212      	moveq #18,%d1
 362 03f4 B280      	cmp.l %d0,%d1
 363 03f6 6D14      	jlt .L23
 364 03f8 202E 000C 	move.l 12(%fp),%d0
 365 03fc 5380      	subq.l #1,%d0
 366 03fe 2040      	move.l %d0,%a0
 367 0400 1210      	move.b (%a0),%d1
 368 0402 5201      	addq.b #1,%d1
 369 0404 2240      	move.l %d0,%a1
 370 0406 1281      	move.b %d1,(%a1)
 371 0408 6000 00B6 	jra .L18
 372               	.L23:
 373 040c 202E FFF8 	move.l -8(%fp),%d0
 374 0410 0C80 0000 	cmp.l #259,%d0
 374      0103 
68K GAS   			page 8


 375 0416 6E40      	jgt .L24
 376 0418 202E 000C 	move.l 12(%fp),%d0
 377 041c 5580      	subq.l #2,%d0
 378 041e 2040      	move.l %d0,%a0
 379 0420 1210      	move.b (%a0),%d1
 380 0422 5201      	addq.b #1,%d1
 381 0424 2240      	move.l %d0,%a1
 382 0426 1281      	move.b %d1,(%a1)
 383 0428 202E 000C 	move.l 12(%fp),%d0
 384 042c 5580      	subq.l #2,%d0
 385 042e 2040      	move.l %d0,%a0
 386 0430 1010      	move.b (%a0),%d0
 387 0432 0C00 FF90 	cmp.b #-112,%d0
 388 0436 6600 0088 	jne .L18
 389 043a 202E 000C 	move.l 12(%fp),%d0
 390 043e 5580      	subq.l #2,%d0
 391 0440 2240      	move.l %d0,%a1
 392 0442 12BC FF80 	move.b #-128,(%a1)
 393 0446 202E 000C 	move.l 12(%fp),%d0
 394 044a 5380      	subq.l #1,%d0
 395 044c 2040      	move.l %d0,%a0
 396 044e 1210      	move.b (%a0),%d1
 397 0450 5201      	addq.b #1,%d1
 398 0452 2240      	move.l %d0,%a1
 399 0454 1281      	move.b %d1,(%a1)
 400 0456 6068      	jra .L18
 401               	.L24:
 402 0458 202E 000C 	move.l 12(%fp),%d0
 403 045c 5780      	subq.l #3,%d0
 404 045e 2040      	move.l %d0,%a0
 405 0460 1210      	move.b (%a0),%d1
 406 0462 5201      	addq.b #1,%d1
 407 0464 2240      	move.l %d0,%a1
 408 0466 1281      	move.b %d1,(%a1)
 409 0468 202E 000C 	move.l 12(%fp),%d0
 410 046c 5780      	subq.l #3,%d0
 411 046e 2040      	move.l %d0,%a0
 412 0470 1010      	move.b (%a0),%d0
 413 0472 0C00 FF90 	cmp.b #-112,%d0
 414 0476 6648      	jne .L18
 415 0478 202E 000C 	move.l 12(%fp),%d0
 416 047c 5780      	subq.l #3,%d0
 417 047e 2240      	move.l %d0,%a1
 418 0480 12BC FF80 	move.b #-128,(%a1)
 419 0484 202E 000C 	move.l 12(%fp),%d0
 420 0488 5580      	subq.l #2,%d0
 421 048a 2040      	move.l %d0,%a0
 422 048c 1210      	move.b (%a0),%d1
 423 048e 5201      	addq.b #1,%d1
 424 0490 2240      	move.l %d0,%a1
 425 0492 1281      	move.b %d1,(%a1)
 426 0494 202E 000C 	move.l 12(%fp),%d0
 427 0498 5580      	subq.l #2,%d0
 428 049a 2040      	move.l %d0,%a0
 429 049c 1010      	move.b (%a0),%d0
 430 049e 0C00 FF90 	cmp.b #-112,%d0
 431 04a2 661C      	jne .L18
68K GAS   			page 9


 432 04a4 202E 000C 	move.l 12(%fp),%d0
 433 04a8 5580      	subq.l #2,%d0
 434 04aa 2240      	move.l %d0,%a1
 435 04ac 12BC FF80 	move.b #-128,(%a1)
 436 04b0 202E 000C 	move.l 12(%fp),%d0
 437 04b4 5380      	subq.l #1,%d0
 438 04b6 2040      	move.l %d0,%a0
 439 04b8 1210      	move.b (%a0),%d1
 440 04ba 5201      	addq.b #1,%d1
 441 04bc 2240      	move.l %d0,%a1
 442 04be 1281      	move.b %d1,(%a1)
 443               	.L18:
 444 04c0 102E FFF6 	move.b -10(%fp),%d0
 445 04c4 0C00 000A 	cmp.b #10,%d0
 446 04c8 662C      	jne .L25
 447 04ca 203C 0000 	move.l #phidefaults,%d0
 447      0000 
 448 04d0 223C 0000 	move.l #curparms,%d1
 448      0000 
 449 04d6 2041      	move.l %d1,%a0
 450 04d8 2240      	move.l %d0,%a1
 451 04da 2091      	move.l (%a1),(%a0)
 452 04dc 5881      	addq.l #4,%d1
 453 04de 5880      	addq.l #4,%d0
 454 04e0 2041      	move.l %d1,%a0
 455 04e2 2240      	move.l %d0,%a1
 456 04e4 2091      	move.l (%a1),(%a0)
 457 04e6 5881      	addq.l #4,%d1
 458 04e8 5880      	addq.l #4,%d0
 459 04ea 2041      	move.l %d1,%a0
 460 04ec 2240      	move.l %d0,%a1
 461 04ee 2091      	move.l (%a1),(%a0)
 462 04f0 5881      	addq.l #4,%d1
 463 04f2 5880      	addq.l #4,%d0
 464 04f4 6028      	jra .L26
 465               	.L25:
 466 04f6 70F0      	moveq #-16,%d0
 467 04f8 D08E      	add.l %fp,%d0
 468 04fa 223C 0000 	move.l #curparms,%d1
 468      0000 
 469 0500 2041      	move.l %d1,%a0
 470 0502 2240      	move.l %d0,%a1
 471 0504 2091      	move.l (%a1),(%a0)
 472 0506 5881      	addq.l #4,%d1
 473 0508 5880      	addq.l #4,%d0
 474 050a 2041      	move.l %d1,%a0
 475 050c 2240      	move.l %d0,%a1
 476 050e 2091      	move.l (%a1),(%a0)
 477 0510 5881      	addq.l #4,%d1
 478 0512 5880      	addq.l #4,%d0
 479 0514 2041      	move.l %d1,%a0
 480 0516 2240      	move.l %d0,%a1
 481 0518 2091      	move.l (%a1),(%a0)
 482 051a 5881      	addq.l #4,%d1
 483 051c 5880      	addq.l #4,%d0
 484               	.L26:
 485 051e 202E FFFC 	move.l -4(%fp),%d0
68K GAS   			page 10


 486 0522 4E5E      	unlk %fp
 487 0524 4E75      	rts
 489               	.align2
 490               	.globlwctombflush
 492               	wctombflush:
 493 0526 4E56 0000 	link.w %fp,#0
 494 052a 4AAE 0008 	tst.l 8(%fp)
 495 052e 6710      	jeq .L28
 496 0530 42A7      	clr.l -(%sp)
 497 0532 2F2E 0008 	move.l 8(%fp),-(%sp)
 498 0536 4EBA FAFA 	jsr flush
 499 053a 508F      	addq.l #8,%sp
 500 053c 5380      	subq.l #1,%d0
 501 053e 6002      	jra .L29
 502               	.L28:
 503 0540 4280      	clr.l %d0
 504               	.L29:
 505 0542 4E5E      	unlk %fp
 506 0544 4E75      	rts
 508               	.align2
 509               	.globlwctomb
 511               	wctomb:
 512 0546 4E56 FFFC 	link.w %fp,#-4
 513 054a 42AE FFFC 	clr.l -4(%fp)
 514 054e 4AAE 0008 	tst.l 8(%fp)
 515 0552 662E      	jne .L31
 516 0554 203C 0000 	move.l #phidefaults,%d0
 516      0000 
 517 055a 223C 0000 	move.l #curparms,%d1
 517      0000 
 518 0560 2041      	move.l %d1,%a0
 519 0562 2240      	move.l %d0,%a1
 520 0564 2091      	move.l (%a1),(%a0)
 521 0566 5881      	addq.l #4,%d1
 522 0568 5880      	addq.l #4,%d0
 523 056a 2041      	move.l %d1,%a0
 524 056c 2240      	move.l %d0,%a1
 525 056e 2091      	move.l (%a1),(%a0)
 526 0570 5881      	addq.l #4,%d1
 527 0572 5880      	addq.l #4,%d0
 528 0574 2041      	move.l %d1,%a0
 529 0576 2240      	move.l %d0,%a1
 530 0578 2091      	move.l (%a1),(%a0)
 531 057a 5881      	addq.l #4,%d1
 532 057c 5880      	addq.l #4,%d0
 533 057e 4280      	clr.l %d0
 534 0580 601E      	jra .L32
 535               	.L31:
 536 0582 202E 0008 	move.l 8(%fp),%d0
 537 0586 2F2E FFFC 	move.l -4(%fp),-(%sp)
 538 058a 2F00      	move.l %d0,-(%sp)
 539 058c 2F2E 000C 	move.l 12(%fp),-(%sp)
 540 0590 4EBA FBE2 	jsr installphichar
 541 0594 4FEF 000C 	lea (12,%sp),%sp
 542 0598 D1AE FFFC 	add.l %d0,-4(%fp)
 543 059c 202E FFFC 	move.l -4(%fp),%d0
 544               	.L32:
68K GAS   			page 11


 545 05a0 4E5E      	unlk %fp
 546 05a2 4E75      	rts
 548               	.align2
 549               	.globlwcstombs
 551               	wcstombs:
 552 05a4 4E56 FFF8 	link.w %fp,#-8
 553 05a8 42AE FFFC 	clr.l -4(%fp)
 554 05ac 42AE FFF8 	clr.l -8(%fp)
 555 05b0 4AAE 0008 	tst.l 8(%fp)
 556 05b4 665A      	jne .L38
 557 05b6 203C 0000 	move.l #phidefaults,%d0
 557      0000 
 558 05bc 223C 0000 	move.l #curparms,%d1
 558      0000 
 559 05c2 2041      	move.l %d1,%a0
 560 05c4 2240      	move.l %d0,%a1
 561 05c6 2091      	move.l (%a1),(%a0)
 562 05c8 5881      	addq.l #4,%d1
 563 05ca 5880      	addq.l #4,%d0
 564 05cc 2041      	move.l %d1,%a0
 565 05ce 2240      	move.l %d0,%a1
 566 05d0 2091      	move.l (%a1),(%a0)
 567 05d2 5881      	addq.l #4,%d1
 568 05d4 5880      	addq.l #4,%d0
 569 05d6 2041      	move.l %d1,%a0
 570 05d8 2240      	move.l %d0,%a1
 571 05da 2091      	move.l (%a1),(%a0)
 572 05dc 5881      	addq.l #4,%d1
 573 05de 5880      	addq.l #4,%d0
 574 05e0 4280      	clr.l %d0
 575 05e2 6048      	jra .L35
 576               	.L37:
 577 05e4 222E 0008 	move.l 8(%fp),%d1
 578 05e8 202E FFF8 	move.l -8(%fp),%d0
 579 05ec E588      	lsl.l #2,%d0
 580 05ee D0AE 000C 	add.l 12(%fp),%d0
 581 05f2 2040      	move.l %d0,%a0
 582 05f4 2010      	move.l (%a0),%d0
 583 05f6 52AE FFF8 	addq.l #1,-8(%fp)
 584 05fa 2F2E FFFC 	move.l -4(%fp),-(%sp)
 585 05fe 2F01      	move.l %d1,-(%sp)
 586 0600 2F00      	move.l %d0,-(%sp)
 587 0602 4EBA FB70 	jsr installphichar
 588 0606 4FEF 000C 	lea (12,%sp),%sp
 589 060a D1AE FFFC 	add.l %d0,-4(%fp)
 590 060e 6002      	jra .L36
 591               	.L38:
 592 0610 4E71      	nop
 593               	.L36:
 594 0612 202E FFF8 	move.l -8(%fp),%d0
 595 0616 B0AE 0010 	cmp.l 16(%fp),%d0
 596 061a 65C8      	jcs .L37
 597 061c 2F2E FFFC 	move.l -4(%fp),-(%sp)
 598 0620 2F2E 0008 	move.l 8(%fp),-(%sp)
 599 0624 4EBA FA0C 	jsr flush
 600 0628 508F      	addq.l #8,%sp
 601 062a 5380      	subq.l #1,%d0
68K GAS   			page 12


 602               	.L35:
 603 062c 4E5E      	unlk %fp
 604 062e 4E75      	rts
 606               	.ident"GCC: (GNU) 4.5.1"
 607               	.section.note.GNU-stack,"",@progbits
68K GAS   			page 13


DEFINED SYMBOLS
                            *ABS*:00000000 wctomb.c
    {standard input}:7      .data:00000000 phidefaults
    {standard input}:18     .bss:00000000 curparms
    {standard input}:23     .text:00000000 wcinit
    {standard input}:47     .text:00000032 flush
    {standard input}:149    .text:00000174 installphichar
    {standard input}:492    .text:00000526 wctombflush
    {standard input}:511    .text:00000546 wctomb
    {standard input}:551    .text:000005a4 wcstombs

NO UNDEFINED SYMBOLS
