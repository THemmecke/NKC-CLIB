68K GAS   			page 1


   1               		.text
   0               	
   0               	
   2               		.global strcspn
   3               		
   4               	/*
   5               		int strcspn ( const char * str1, const char * str2 )
   6               	*/		
   7               	
   8               	strcspn:
   9 0000 41EF 0004 		lea	(4,%A7),%A0
  10 0004 2F0A      		move.l	%a2,-(%sp)
  11 0006 2268 0004 		move.l	(4,%a0),%a1	/* string2	*/
  12 000a 2450      		move.l	(%a0),%a2	/* string1	*/
  13 000c 4280      		clr.l	%d0
  14               	lp:
  15 000e 5240      		addq	#1,%d0
  16 0010 4A12      		tst.b	(%a2)
  17 0012 670E      		beq.b	out
  18 0014 121A      		move.b	(%a2)+,%d1
  19 0016 2049      		move.l	%a1,%a0
  20               	lp1:
  21 0018 4A10      		tst.b	(%a0)
  22 001a 6706      		beq.b	out
  23 001c B218      		cmp.b	(%a0)+,%d1
  24 001e 66F8      		bne.b	lp1
  25 0020 60EC      		bra.b	lp
  26               	out:
  27 0022 5340      		subq	#1,%d0
  28 0024 245F      		move.l	(%sp)+,%a2
  29 0026 4E75      		rts
68K GAS   			page 2


DEFINED SYMBOLS
           strcspn.S:8      .text:00000000 strcspn
           strcspn.S:14     .text:0000000e lp
           strcspn.S:26     .text:00000022 out
           strcspn.S:20     .text:00000018 lp1

NO UNDEFINED SYMBOLS
