68K GAS   			page 1


   1               	
   2               	.file"getenv.c"
   3               	.text
   4               	.align2
   5               	.globlgetenv
   7               	getenv:
   8 0000 4E56 FFF8 	link.w %fp,#-8
   9 0004 2D79 0000 	move.l _env_arr,-4(%fp)
   9      0000 FFFC 
  10 000c 2F2E 0008 	move.l 8(%fp),-(%sp)
  11 0010 4EB9 0000 	jsr strlen
  11      0000 
  12 0016 588F      	addq.l #4,%sp
  13 0018 2D40 FFF8 	move.l %d0,-8(%fp)
  14 001c 6038      	jra .L2
  15               	.L5:
  16 001e 222E FFF8 	move.l -8(%fp),%d1
  17 0022 202E FFFC 	move.l -4(%fp),%d0
  18 0026 2040      	move.l %d0,%a0
  19 0028 2010      	move.l (%a0),%d0
  20 002a 2F01      	move.l %d1,-(%sp)
  21 002c 2F00      	move.l %d0,-(%sp)
  22 002e 2F2E 0008 	move.l 8(%fp),-(%sp)
  23 0032 4EB9 0000 	jsr strncmp
  23      0000 
  24 0038 4FEF 000C 	lea (12,%sp),%sp
  25 003c 4A80      	tst.l %d0
  26 003e 6612      	jne .L3
  27 0040 202E FFFC 	move.l -4(%fp),%d0
  28 0044 2040      	move.l %d0,%a0
  29 0046 2210      	move.l (%a0),%d1
  30 0048 202E FFF8 	move.l -8(%fp),%d0
  31 004c 5280      	addq.l #1,%d0
  32 004e D081      	add.l %d1,%d0
  33 0050 6012      	jra .L4
  34               	.L3:
  35 0052 58AE FFFC 	addq.l #4,-4(%fp)
  36               	.L2:
  37 0056 202E FFFC 	move.l -4(%fp),%d0
  38 005a 2040      	move.l %d0,%a0
  39 005c 2010      	move.l (%a0),%d0
  40 005e 4A80      	tst.l %d0
  41 0060 66BC      	jne .L5
  42 0062 4280      	clr.l %d0
  43               	.L4:
  44 0064 2200      	move.l %d0,%d1
  45 0066 2041      	move.l %d1,%a0
  46 0068 4E5E      	unlk %fp
  47 006a 4E75      	rts
  49               	.ident"GCC: (GNU) 4.5.1"
  50               	.section.note.GNU-stack,"",@progbits
68K GAS   			page 2


DEFINED SYMBOLS
                            *ABS*:00000000 getenv.c
    {standard input}:7      .text:00000000 getenv

UNDEFINED SYMBOLS
_env_arr
strlen
strncmp
